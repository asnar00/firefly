{
    "cards": [
        {
            "uid": "ts_firefly_graphview_function_user",
            "language": "ts",
            "module": "graphview",
            "kind": "function",
            "name": "user",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function user(id: string) {\n    const parts = id.split(\"_\");\n    return parts[parts.length-1];\n}",
                    "language": "ts",
                    "iLine": 16,
                    "jLine": 19
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_graphview_class_GraphView",
            "language": "ts",
            "module": "graphview",
            "kind": "class",
            "name": "GraphView",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// manages all top-level DOM nodes inside a container\nexport class GraphView {\n    container: HTMLElement;\n    nodeMap: Map<HTMLElement, Node> = new Map();\n    columns: Node[][] = [];\n    padding: number = 24;\n    arrowsSVG: SVGSVGElement;\n    arrowMap: Map<HTMLElement, Arrow> = new Map();\n    htmlFunction : Function;\n    highlightFunction : Function;\n    attentionNode: Node|null;\n    scrolling: boolean = false;\n    xScroll: number = 0;\n    yScroll: number = 0;\n    xScrollTarget: number = 0;\n    yScrollTarget: number = 0;\n    autoScroll: boolean = false;\n    closedNodes: any[] = [];            // nodes we've closed but might reopen, stored as json\n    canvasRect: Rect;                   // bounding-rect of all nodes, or window rect, whichever is bigger\n\n    // setup: pass the div that's going to hold all nodes\n    constructor(container: HTMLElement, htmlFunction: Function, highlightFunction: Function) {\n        this.container = container;\n        this.htmlFunction = htmlFunction;\n        this.highlightFunction = highlightFunction;\n        this.arrowsSVG = this.initArrows();\n        this.attentionNode = null;\n        this.canvasRect = new Rect(0, 0, document.body.clientWidth, document.body.clientHeight);\n    }\n\n    // given an id, returns the first div with that ID (expected to be unique)\n    find(id: string, parent?:HTMLElement) : HTMLElement | null {\n        if (!parent) parent = this.container;\n        const elementsArray = Array.from(parent.querySelectorAll(`#${id}`));\n        if (elementsArray.length == 0) return null;\n        return elementsArray[0] as HTMLElement;\n    }\n\n    // given a div, returns the userObj of the first node that matches\n    userObj(div: HTMLElement) : any {\n        const node = this.get(div);\n        if (!node) return null;\n        return node.userObj;\n    }\n\n    // given a div, returns the linkDiv that opened it (todo: more than one? IDK)\n    findLink(div: HTMLElement) : HTMLElement | null {\n        const node = this.get(div);\n        return node ? node.linkDiv : null;\n    }\n\n    // closes a div that's open, and all children as well\n    close(div: HTMLElement) {\n        const node = this.get(div)!;\n        if (node) {\n            let nodes = this.allChildren(node);\n            for(let i = 1; i < nodes.length; i++) { \n                this.closedNodes.push(nodes[i].json());\n            }\n            //console.log(\"closed nodes:\");\n            //for(const c of this.closedNodes) { console.log(\"  \", user(c.id)) };\n            for(let node of nodes) { this.disappear(node); }\n        }\n        this.arrangeAll();\n    }\n\n    // pay attention to (div)\n    attention(div: HTMLElement) {\n        this.attentionNode = this.get(div);\n        //console.log(\"attention:\", user(this.attentionNode!.div.id));\n    }\n\n    // animates to nothing over (time) seconds, then closes\n    disappear(node: Node, time: number=0.25): void {\n        let div = node.div;\n        if (node.linkDiv) {\n            this.removeArrow(node.linkDiv);\n        } \n        div.style.width = div.scrollWidth + \"px\";\n        div.style.height = div.scrollHeight + \"px\";\n        div.style.transition = `width ${time}s, height ${time}s`;\n        div.offsetWidth;\n        div.offsetHeight;\n        div.style.width = '0'; div.style.height = '0';\n        setTimeout(() => {this.closeSingleNode(node);}, (time-0.1)*1000);\n    }\n\n    allChildren(node: Node) : Node[] {\n        let result : Node[] = [ node ];\n        for(let n of this.nodeMap.values()) {\n            if (n.parentDiv == node.div) result.push(...this.allChildren(n));\n        }\n        return result;\n    }\n\n    closeSingleNode(node: Node) {\n        if (node.linkDiv) {\n            this.removeArrow(node.linkDiv);\n        }\n        this.nodeMap.delete(node.div);\n        node.div.remove();\n        node.remove();\n    }\n\n    reopen(id: string, linkID: string, parentID: string, userObj: any, emphasize: boolean=false) {\n        let toOpen : any[] = [];\n\n        let i = this.closedNodes.findIndex(n => n.id == id);        // is new node in closedNodes?\n        if (i == -1) {\n            toOpen = [ { id: id, link: linkID ?? \"null\",            // if no, make a new json version\n                parent: parentID ?? \"null\",\n                emphasize: emphasize,\n                userObj: userObj }];\n        } else {\n            toOpen = this.closedNodes.splice(i, 1);                 // otherwise get it from closedNodes\n        }\n\n        // grab all nodes from closedNodes whose parents are in (tOpen)\n        let iCheck = 0;\n        while(iCheck < toOpen.length) {\n            const p = toOpen[iCheck++];\n            let remaining: any[] = [];\n            for(let c of this.closedNodes) {\n                if (c.parent == p.id) {\n                    toOpen.push(c);\n                } else {\n                    remaining.push(c);\n                }\n            }\n            this.closedNodes = remaining;\n        }\n        //console.log(\"reopen\", user(id));\n        for(const c of toOpen) {\n            //console.log(\"   \", user(c.id));\n        }\n\n        // and open them\n        this.openJsonNodeList(toOpen);\n        this.attentionNode = this.get(this.find(id)!);\n        //console.log(\"attention:\", user(this.attentionNode!.div.id));\n    }\n\n    // opens a new node, generates the HTML\n    open(id: string, linkID: string, parentID: string, userObj: any, emphasize: boolean=false) {\n        let div = this.htmlFunction(id, userObj);\n        div.style.transition = 'max-width 0.5s, max-height 0.5s, background-color 0.5s';\n        let linkDiv = null;\n        if (linkID != \"\" && parentID != \"\") {\n            let parentDiv = this.find(parentID);\n            if (parentDiv) linkDiv = this.find(linkID, parentDiv); else linkDiv = null;\n        }\n        if (linkDiv) {\n            this.highlightFunction(linkDiv, true);\n        }\n        let node: Node = this.add(div, linkDiv, userObj);\n        if (emphasize) {\n            node!.emphasize = true;\n        }\n    }\n\n    openJson(obj: any) {\n        this.openJsonNodeList(obj.nodes);\n        this.closedNodes = obj.closed;\n        //console.log(\"closed nodelist:\", this.closedNodes);\n        this.xScroll = obj.xScroll;\n        this.yScroll = obj.yScroll;\n        scrollTo(this.xScroll, this.yScroll);\n    }\n\n    openJsonNodeList(nodesJson: any[]) {\n        for(let n of nodesJson) {\n            this.open(n.id, n.link, n.parent, n.userObj, n.emphasize);\n        }\n    }\n\n    // adds a div to the manager, and to the container div\n    add(div: HTMLElement, link: HTMLElement | null, userObj: any = null) : Node {\n        this.container.appendChild(div);\n        let parentDiv = (link)? this.findDivContainingLink(link) : null;\n        let xTarget = 0;\n        let yTarget = 0;\n        if (link && parentDiv) {\n            const prect = rect(parentDiv);\n            const brect = rect(link);\n            const crect = rect(div);\n            xTarget = brect.left;\n            yTarget = ((brect.top + brect.bottom)/2) - (crect.height()/2);\n        } else {\n            const crect = rect(div);\n            xTarget = crect.left + 150;\n            yTarget = (window.innerHeight / 2) - (crect.height()/2) - 32;\n        }\n        let node = new Node(this, div, link, parentDiv, userObj);\n        node.setTargetPos(xTarget, yTarget);\n        node.setPos(xTarget, yTarget);\n        this.nodeMap.set(div, node);\n        if (link && parentDiv) {\n            this.addArrow(link, parentDiv, div);\n        }\n        this.arrangeAll();          // todo: call this every frame\n        return node;\n    }\n\n    // emphasizes element (moves shadow forward in space)\n    emphasize(div: HTMLElement, onOff: boolean) {\n        let node = this.get(div);\n        if (!node) return;\n        node.emphasize = onOff; \n        node.updateShadow();\n    }\n\n    // arranges all views : computes xTarget, yTarget for each view\n    arrangeAll() {\n        this.sortColumns();\n        let xPos = this.xMax(this.columns[0]);\n        for(let i = 1; i < this.columns.length; i++) {\n            let groups : Node[][] = this.splitColumnIntoGroups(i);\n            for (let group of groups) {\n                this.spaceNodesInGroup(group, xPos);\n            }\n            this.spaceGroupsVertically(groups);\n            xPos = this.xMax(this.columns[i]);\n        }\n        const widthInPixels = getBodyWidth();\n        const newWidth = Math.max(window.innerWidth, xPos);\n        document.body.style.width = `${newWidth}px`;\n    }\n\n    // sort nodes within each column by link order\n    sortColumns() {\n        for(let col of this.columns) {\n            col.sort((a, b) => (a.linkIndex - b.linkIndex));\n        }\n    }\n\n    // right edge of column\n    xMax(nodes: Node[]) : number {\n        let x = 0;\n        for (const node of nodes) {\n            x = Math.max(x, node.targetRect().right + (this.padding * 2));\n        }\n        return x;\n    }\n\n    // update\n    update() {\n        if (this.anyNodeSizeChanged()) {\n            this.arrangeAll();\n        }\n        this.updateCanvas();\n        this.updateScroll();\n        for(let node of this.nodeMap.values()) {\n            node.update();\n        }\n        this.updateArrows();\n    }\n\n    updateCanvas() {\n        let bounds = new Rect(0,0, window.innerWidth, window.innerHeight);\n        let padding = 10;\n        \n        // Calculate canvas rect based on node positions/sizes\n        // note: bounds may be negative, that's fine\n        for (const node of this.nodeMap.values()) {\n            const r = node.targetRect();\n            bounds.left = Math.min(bounds.left, r.left - padding);\n            bounds.top = Math.min(bounds.top, r.top - padding);\n            bounds.right = Math.max(bounds.right, r.right + padding);\n            bounds.bottom = Math.max(bounds.bottom, r.bottom + padding);\n        }\n        bounds.left = Math.floor(bounds.left);\n        bounds.top = Math.floor(bounds.top);\n        bounds.right = Math.ceil(bounds.right);\n        bounds.bottom = Math.ceil(bounds.bottom);\n        if (bounds.left == this.canvasRect.left &&\n            bounds.top == this.canvasRect.top &&\n            bounds.right == this.canvasRect.right &&\n            bounds.bottom == this.canvasRect.bottom) return;\n\n        const deltaX = bounds.left - this.canvasRect.left;\n        const deltaY = bounds.top - this.canvasRect.top;\n        \n        this.canvasRect = bounds;\n        const xSize = this.canvasRect.width();\n        const ySize = this.canvasRect.height();\n        if (xSize != this.container.offsetWidth ||\n            ySize != this.container.offsetHeight) {\n            this.container.style.width = `${xSize}px`;\n            this.container.style.height = `${ySize}px`;\n            document.body.style.width = `${xSize}px`;\n            document.body.style.height = `${ySize}px`;\n            this.arrowsSVG.setAttribute('viewBox', `0 0 ${xSize} ${ySize}`);\n            this.arrowsSVG.style.width = `${xSize}px`;\n            this.arrowsSVG.style.height = `${ySize}px`;\n        }\n\n        // If any code-container div has drifted upwards or left, adjust all divs\n        if (deltaX != 0 || deltaY != 0) {\n    \n            for (let child of Array.from(this.container.children)) {\n                if (child instanceof HTMLElement) {\n                    let div = child as HTMLElement;\n                    div.style.left = `${div.clientLeft + deltaX}px`;\n                    div.style.top = `${div.clientTop + deltaY}py`;\n                }\n                \n            }\n\n            document.body.scrollLeft += deltaX;\n            document.body.scrollTop += deltaY;\n        }\n    }\n\n    updateScroll() {\n        if (this.attentionNode && \n            (this.attentionNode.sizeChanged() ||\n             this.attentionNode.moving())) {\n                if (this.attentionNode.div.parentElement) {\n                    [this.xScrollTarget, this.yScrollTarget] = scrollToView(this.attentionNode.div);\n                } else {\n                    this.attentionNode = null;\n                }\n        }\n        if (window.scrollX == this.xScroll &&\n            window.scrollY == this.yScroll) {\n            if (this.scrolling && this.attentionNode) {\n                //console.log(\"cleared attention node\");\n                this.attentionNode = null;\n            }\n            this.scrolling = false;\n        } else {\n            this.scrolling = true;\n        }\n        this.xScroll = window.scrollX;\n        this.yScroll = window.scrollY;\n    }\n\n    // ------------------ private ----------------------------\n\n    // returns the Node associated with a top-level div\n    get(div: HTMLElement) : Node | null {\n        let node = this.nodeMap.get(div);\n        return node ? node : null;\n    }\n\n    // find the top-level div that contains a link elemeent\n    findDivContainingLink(link: HTMLElement | null): HTMLElement | null {\n        if (!link) return null;\n        let parent = link.parentElement;\n        while (parent && parent.parentElement !== this.container) {\n            parent = parent.parentElement;\n        }\n        return (parent) ? parent : null;\n    }\n\n    anyNodeSizeChanged() : boolean {\n        for(let node of this.nodeMap.values()) {\n            if (node.sizeChanged())\n                return true;\n        }\n        return false;\n    }\n\n    splitColumnIntoGroups(i: number) : Node[][] {\n        let groups : Node[][] = [];\n        for(const p of this.columns[i-1]) {\n            let group : Node[] = [];\n            for(const node of this.columns[i]) {\n                if (node.parentDiv!.id === p.div.id) {\n                    group.push(node);\n                }\n            }\n            if (group.length > 0) {\n                groups.push(group);\n            }\n        }\n        return groups;\n    }\n\n    // within a group (nodes with same parent), space out around centerline\n    spaceNodesInGroup(group: Node[], xPos: number) {\n        // first find the total height of the group, plus padding\n        let sumHeight = (group.length-1) * this.padding;\n        for(const node of group) {\n            sumHeight += node.targetRect().height();\n        }\n\n        // then find the centerline of the group's parent\n        const parentDiv = group[0].parentDiv!;\n        const parentNode = this.get(parentDiv)!;\n        const parentRect = parentNode.targetRect();\n        const centerLine = (parentRect.top + parentRect.bottom)/2;\n        \n        // now space group out vertically around the centerline\n        let yPos = Math.max(this.padding, centerLine - (sumHeight/2));\n        let pivot = (group.length-1)/2;\n        for (let i = 0; i < group.length; i++) {\n            let node = group[i];\n            let xOffset = (i < pivot) ? i : (pivot - (i - pivot));\n            node.setTargetPos(xPos + (xOffset * this.padding), yPos);\n            yPos += node.targetRect().height() + this.padding;\n        }\n    }\n    \n    // space groups out vertically so they don't overlap\n    spaceGroupsVertically(groups: Node[][]) {\n        if (groups.length < 2) return;\n        const even = (groups.length % 2) == 0;\n        const iPivot = Math.floor((groups.length-1)/2);\n        if (even) {\n            this.checkGroups(groups[iPivot], groups[iPivot+1], 0.5);\n        }\n        for(let i=iPivot; i>0; i--) {\n            this.checkGroups(groups[i-1], groups[1], 0);\n        }\n        for(let i=iPivot; i < groups.length-1; i++) {\n            this.checkGroups(groups[i], groups[i+1], 1);\n        }\n    }\n\n    checkGroups(groupA: Node[], groupB: Node[], mix: number) {\n        const bottomA = groupA[groupA.length-1].targetRect().bottom;\n        const topB = groupB[0].targetRect().top;\n        const overlap =  (bottomA + (this.padding*2)) - topB;\n        if (overlap < 0) return;\n        const moveA = -(overlap * (1 - mix));\n        const moveB = overlap * mix;\n        this.moveGroupVertically(groupA, moveA);\n        this.moveGroupVertically(groupB, moveB);\n    }\n\n    moveGroupVertically(group: Node[], yMove: number) {\n        for(let node of group) {\n            node.yTarget += yMove;\n        }\n    }\n\n    //----------------------------- internal --------------------------------\n\n    // add a Node to the correct column, keep them sorted vertically\n    addToColumnArray(node : Node) {\n        while (this.columns.length <= node.column) {\n            this.columns.push([]);\n        }\n        this.columns[node.column].push(node);\n    }\n\n    //----------------------------- arrows ---------------------------------\n\n    // set up the SVG arrow renderer\n    initArrows() : SVGSVGElement {\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.style.position = 'absolute';\n        svg.style.width = '100%';\n        svg.style.height = '100%';\n        svg.style.pointerEvents = 'none';\n        svg.style.zIndex = '1000';\n        this.container.appendChild(svg);\n        return svg;\n    }\n\n    addArrow(linkDiv: HTMLElement, parentDiv: HTMLElement, div: HTMLElement) {\n        let arrow = new Arrow(linkDiv, parentDiv, div);\n        this.arrowMap.set(linkDiv, arrow);\n        arrow.addToSVG(this.arrowsSVG);\n    }\n\n    removeArrow(linkDiv: HTMLElement) {\n        let arrow = this.arrowMap.get(linkDiv);\n        if (arrow) {\n            arrow.removeFromSVG();\n            this.arrowMap.delete(linkDiv);\n        }\n    }\n\n    updateArrows() {\n        for (let arrow of this.arrowMap.values()) {\n            arrow.update();\n        }\n    }\n\n    json() : any {\n        let node : Node = this.columns[0][0];\n        let nodes: Node[] = this.allChildren(node);\n        return { xScroll: this.xScroll, yScroll: this.yScroll,\n                 nodes:  nodes.map(node => node.json()),\n                 closed: this.closedNodes };\n    }\n}",
                    "language": "ts",
                    "iLine": 22,
                    "jLine": 510
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 137,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 271,
                    "jChar": 276
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 672,
                    "jChar": 676
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 929,
                    "jChar": 939
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_htmlFunction"
                    ],
                    "iChar": 965,
                    "jChar": 978
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_highlightFunction"
                    ],
                    "iChar": 1007,
                    "jChar": 1025
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowsSVG"
                    ],
                    "iChar": 1059,
                    "jChar": 1069
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 1076,
                    "jChar": 1087
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_attentionNode"
                    ],
                    "iChar": 1103,
                    "jChar": 1117
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_canvasRect"
                    ],
                    "iChar": 1138,
                    "jChar": 1149
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 1156,
                    "jChar": 1161
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 1738,
                    "jChar": 1742
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 1800,
                    "jChar": 1808
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 2015,
                    "jChar": 2023
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 2212,
                    "jChar": 2224
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_closedNodes"
                    ],
                    "iChar": 2305,
                    "jChar": 2317
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 2331,
                    "jChar": 2336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 2522,
                    "jChar": 2532
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 2564,
                    "jChar": 2575
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_removeArrow"
                    ],
                    "iChar": 2957,
                    "jChar": 2969
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 3013,
                    "jChar": 3019
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 3063,
                    "jChar": 3070
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 3300,
                    "jChar": 3316
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 3455,
                    "jChar": 3463
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 3493,
                    "jChar": 3503
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 3765,
                    "jChar": 3772
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_parent"
                    ],
                    "iChar": 4696,
                    "jChar": 4703
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 5069,
                    "jChar": 5086
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_find"
                    ],
                    "iChar": 5138,
                    "jChar": 5143
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 5843,
                    "jChar": 5847
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 5914,
                    "jChar": 5924
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 6129,
                    "jChar": 6137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 6165,
                    "jChar": 6173
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollTo"
                    ],
                    "iChar": 6197,
                    "jChar": 6205
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 6333,
                    "jChar": 6338
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findDivContainingLink"
                    ],
                    "iChar": 6623,
                    "jChar": 6645
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 6888,
                    "jChar": 6893
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 6924,
                    "jChar": 6928
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 6936,
                    "jChar": 6943
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 7171,
                    "jChar": 7176
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setTargetPos"
                    ],
                    "iChar": 7226,
                    "jChar": 7239
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 7271,
                    "jChar": 7278
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 7384,
                    "jChar": 7393
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 7736,
                    "jChar": 7749
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_sortColumns"
                    ],
                    "iChar": 7859,
                    "jChar": 7871
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_xMax"
                    ],
                    "iChar": 7898,
                    "jChar": 7903
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 7908,
                    "jChar": 7916
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 8017,
                    "jChar": 8039
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 8104,
                    "jChar": 8122
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceGroupsVertically"
                    ],
                    "iChar": 8167,
                    "jChar": 8189
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getBodyWidth"
                    ],
                    "iChar": 8286,
                    "jChar": 8298
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkIndex"
                    ],
                    "iChar": 8565,
                    "jChar": 8575
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 8760,
                    "jChar": 8771
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 8773,
                    "jChar": 8779
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_padding"
                    ],
                    "iChar": 8787,
                    "jChar": 8795
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_anyNodeSizeChanged"
                    ],
                    "iChar": 8883,
                    "jChar": 8902
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 8961,
                    "jChar": 8974
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 8990,
                    "jChar": 9003
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update",
                        "ts_firefly_graphview_method_Node_update",
                        "ts_firefly_graphview_method_Arrow_update"
                    ],
                    "iChar": 9072,
                    "jChar": 9079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateArrows"
                    ],
                    "iChar": 9105,
                    "jChar": 9118
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_children"
                    ],
                    "iChar": 11118,
                    "jChar": 11127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 11621,
                    "jChar": 11633
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_moving"
                    ],
                    "iChar": 11670,
                    "jChar": 11677
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScrollTarget"
                    ],
                    "iChar": 11769,
                    "jChar": 11783
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScrollTarget"
                    ],
                    "iChar": 11789,
                    "jChar": 11803
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 11807,
                    "jChar": 11819
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_scrolling"
                    ],
                    "iChar": 12057,
                    "jChar": 12067
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 15061,
                    "jChar": 15073
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_moveGroupVertically"
                    ],
                    "iChar": 15728,
                    "jChar": 15748
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 15926,
                    "jChar": 15934
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_column"
                    ],
                    "iChar": 16188,
                    "jChar": 16195
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 16888,
                    "jChar": 16894
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowMap"
                    ],
                    "iChar": 16932,
                    "jChar": 16941
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_addToSVG"
                    ],
                    "iChar": 16976,
                    "jChar": 16985
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_removeFromSVG"
                    ],
                    "iChar": 17136,
                    "jChar": 17150
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 73,
                    "jChar": 82
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_graph"
                    ],
                    "iChar": 7,
                    "jChar": 16
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 22,
                    "jChar": 31
                },
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 18,
                    "jChar": 27
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 128,
                    "jChar": 137
                }
            ],
            "children": [
                "ts_firefly_graphview_property_GraphView_container",
                "ts_firefly_graphview_property_GraphView_nodeMap",
                "ts_firefly_graphview_property_GraphView_columns",
                "ts_firefly_graphview_property_GraphView_padding",
                "ts_firefly_graphview_property_GraphView_arrowsSVG",
                "ts_firefly_graphview_property_GraphView_arrowMap",
                "ts_firefly_graphview_property_GraphView_htmlFunction",
                "ts_firefly_graphview_property_GraphView_highlightFunction",
                "ts_firefly_graphview_property_GraphView_attentionNode",
                "ts_firefly_graphview_property_GraphView_scrolling",
                "ts_firefly_graphview_property_GraphView_xScroll",
                "ts_firefly_graphview_property_GraphView_yScroll",
                "ts_firefly_graphview_property_GraphView_xScrollTarget",
                "ts_firefly_graphview_property_GraphView_yScrollTarget",
                "ts_firefly_graphview_property_GraphView_autoScroll",
                "ts_firefly_graphview_property_GraphView_closedNodes",
                "ts_firefly_graphview_property_GraphView_canvasRect",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_constructor",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_find",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_userObj",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_findLink",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_close",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_attention",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_disappear",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_allChildren",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_closeSingleNode",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_reopen",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_open",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_openJson",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_openJsonNodeList",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_add",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_emphasize",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_arrangeAll",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_sortColumns",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_xMax",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_update",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_updateCanvas",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_updateScroll",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_get",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_findDivContainingLink",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_anyNodeSizeChanged",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_spaceNodesInGroup",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_spaceGroupsVertically",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_checkGroups",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_moveGroupVertically",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_addToColumnArray",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_initArrows",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_addArrow",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_removeArrow",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_updateArrows",
                "ts_firefly_graphview_property_GraphView_",
                "ts_firefly_graphview_method_GraphView_json",
                "ts_firefly_graphview_property_GraphView_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_graphview_class_Node",
            "language": "ts",
            "module": "graphview",
            "kind": "class",
            "name": "Node",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// stores information about a div we're managing\nclass Node {\n    graph: GraphView;                       // the view we're a part of\n    userObj: any;                           // per-node user info\n    div: HTMLElement;                       // the div we're tracking\n    linkDiv: HTMLElement | null;            // the link that triggered this\n    parentDiv: HTMLElement | null;          // the parent div of the link div that opened this node\n    parentNode: Node | null = null;         // the parent node corresponding to parentDiv\n    column: number = 0;                     // column we're in (first one zero)\n    x: number = 0;                          // position right now\n    y: number = 0;                          // ..\n    xTarget: number = 0;                    // where we're trying to get to, to avoid others\n    yTarget: number = 0;                    // ..\n    width: number =0;                       // width on last frame, so we can react to animation\n    height: number =0;                      // ..\n    shadow: HTMLElement;                    // the shadow, all-important :-)\n    emphasize: boolean = false;             // if set, comes forward in the stack\n    linkIndex: number = 0;                  // sort index for vertical ordering\n\n    constructor(view: GraphView, div: HTMLElement, linkDiv: HTMLElement | null, parentDiv: HTMLElement | null, userObj: any =null) {\n        this.graph = view;\n        this.userObj = userObj;\n        if (parentDiv === undefined) {\n            console.log(\"WARNING: parentDiv undefined!\");\n        }\n        this.div = div; this.linkDiv = linkDiv; this.parentDiv = parentDiv;\n        if (parentDiv) { \n            this.column = this.graph.get(parentDiv)!.column + 1;\n            this.parentNode = this.graph.get(parentDiv);\n            this.linkIndex = this.computeLinkIndex();\n        }\n        this.graph.addToColumnArray(this);\n\n        this.shadow = element(`<div class=\"shadow\"></div>`);\n        this.shadow.style.transition = `top $0.3s`;\n        this.graph.container.appendChild(this.shadow);\n        this.width = div.clientWidth; this.height = div.clientHeight;\n    }\n\n    remove() {\n        this.graph.columns[this.column] = this.graph.columns[this.column].filter(item => item !== this);\n        this.shadow.remove();\n    }\n\n    setTargetPos(x: number, y: number) {\n        this.xTarget = x;\n        this.yTarget = y;\n    }\n\n    setPos(x: number, y: number) {\n        this.x = x; this.y = y;\n        this.div.style.left = `${x - this.graph.canvasRect.left}px`;\n        this.div.style.top = `${y - this.graph.canvasRect.top}px`;\n    }\n\n    targetRect() : Rect {\n        const r = rect(this.div);\n        return new Rect(this.xTarget, this.yTarget, this.xTarget + r.width(), this.yTarget + r.height());\n    }\n\n    sizeChanged() : boolean {\n        return (this.width != this.div.clientWidth ||\n                this.height != this.div.clientHeight);\n    }\n\n    moving() : boolean {\n        return (this.x != this.xTarget || this.y != this.yTarget);\n    }\n    \n    update() {\n        const dx = this.xTarget - this.x;\n        const dy = this.yTarget - this.y;\n        const x = (Math.abs(dx)<=1) ? this.xTarget : (this.x + dx*0.1);\n        const y = (Math.abs(dy)<=1) ? this.yTarget : (this.y + dy*0.1);\n        this.setPos(x, y);\n        this.updateShadow();\n        this.width = this.div.clientWidth; this.height = this.div.clientHeight;\n    }\n\n    computeLinkIndex() {\n        let result = 0;\n        let digit = 1;\n        let node : Node | null = this;\n        while(node) {\n            if (node.linkDiv) {\n                let i = getChildNodeIndex(node.linkDiv);\n                result += (i * digit);\n                digit *= 1000;        // max 1000 links per page!\n            }\n            node = node.parentNode;\n        }\n        return result;\n    }\n\n    updateShadow() {\n        const sr = rect(this.div);\n        const wh = window.innerHeight;\n        let sy = (this.emphasize) ? (wh - 100) : (sr.bottom + 50);\n        sy = Math.max(wh/2+20, sy);\n        this.shadow.style.left = `${sr.left}px`;\n        this.shadow.style.top = `${sy}px`;\n        this.shadow.style.width = `${sr.width()}px`;\n        this.shadow.style.height = `1px`;\n        this.shadow.style.zIndex = `-10`;\n    }\n\n    json() : any {\n        return { id: this.div.id,\n                 link: this.linkDiv?.id ?? \"null\",\n                 parent: this.parentDiv?.id ?? \"null\",\n                 emphasize: this.emphasize,\n                 userObj: this.userObj };\n    }\n}",
                    "language": "ts",
                    "iLine": 513,
                    "jLine": 626
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 73,
                    "jChar": 82
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_graph"
                    ],
                    "iChar": 1407,
                    "jChar": 1413
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 1434,
                    "jChar": 1442
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 1573,
                    "jChar": 1577
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 1589,
                    "jChar": 1597
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 1613,
                    "jChar": 1623
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_column"
                    ],
                    "iChar": 1679,
                    "jChar": 1686
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 1699,
                    "jChar": 1703
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentNode"
                    ],
                    "iChar": 1744,
                    "jChar": 1755
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkIndex"
                    ],
                    "iChar": 1801,
                    "jChar": 1811
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 1818,
                    "jChar": 1835
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addToColumnArray"
                    ],
                    "iChar": 1867,
                    "jChar": 1884
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_shadow"
                    ],
                    "iChar": 1905,
                    "jChar": 1912
                },
                {
                    "targets": [
                        "ts_firefly_util_function_element"
                    ],
                    "iChar": 1915,
                    "jChar": 1922
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 2024,
                    "jChar": 2034
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 2073,
                    "jChar": 2079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 2103,
                    "jChar": 2110
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 2171,
                    "jChar": 2179
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 2277,
                    "jChar": 2284
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_xTarget"
                    ],
                    "iChar": 2348,
                    "jChar": 2356
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 2374,
                    "jChar": 2382
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_x"
                    ],
                    "iChar": 2442,
                    "jChar": 2444
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_y"
                    ],
                    "iChar": 2454,
                    "jChar": 2456
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 2484,
                    "jChar": 2489
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_canvasRect"
                    ],
                    "iChar": 2509,
                    "jChar": 2520
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 2553,
                    "jChar": 2557
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 2624,
                    "jChar": 2628
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 2649,
                    "jChar": 2653
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 2684,
                    "jChar": 2689
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 3282,
                    "jChar": 3289
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 3309,
                    "jChar": 3322
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getChildNodeIndex"
                    ],
                    "iChar": 3602,
                    "jChar": 3619
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 3947,
                    "jChar": 3957
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 3977,
                    "jChar": 3984
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 137,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 26,
                    "jChar": 30
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 9,
                    "jChar": 13
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 72,
                    "jChar": 76
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 18,
                    "jChar": 22
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 22,
                    "jChar": 26
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 551,
                    "jChar": 555
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 126,
                    "jChar": 130
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 218,
                    "jChar": 222
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_xMax"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 35,
                    "jChar": 39
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 105,
                    "jChar": 109
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceGroupsVertically"
                    ],
                    "iChar": 83,
                    "jChar": 87
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 20,
                    "jChar": 24
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_moveGroupVertically"
                    ],
                    "iChar": 27,
                    "jChar": 31
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 30,
                    "jChar": 34
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentNode"
                    ],
                    "iChar": 12,
                    "jChar": 16
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 75,
                    "jChar": 79
                }
            ],
            "children": [
                "ts_firefly_graphview_property_Node_graph",
                "ts_firefly_graphview_property_Node_userObj",
                "ts_firefly_graphview_property_Node_div",
                "ts_firefly_graphview_property_Node_linkDiv",
                "ts_firefly_graphview_property_Node_parentDiv",
                "ts_firefly_graphview_property_Node_parentNode",
                "ts_firefly_graphview_property_Node_column",
                "ts_firefly_graphview_property_Node_x",
                "ts_firefly_graphview_property_Node_y",
                "ts_firefly_graphview_property_Node_xTarget",
                "ts_firefly_graphview_property_Node_yTarget",
                "ts_firefly_graphview_property_Node_width",
                "ts_firefly_graphview_property_Node_height",
                "ts_firefly_graphview_property_Node_shadow",
                "ts_firefly_graphview_property_Node_emphasize",
                "ts_firefly_graphview_property_Node_linkIndex",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_constructor",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_remove",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_setTargetPos",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_setPos",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_targetRect",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_sizeChanged",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_moving",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_update",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_computeLinkIndex",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_updateShadow",
                "ts_firefly_graphview_property_Node_",
                "ts_firefly_graphview_method_Node_json",
                "ts_firefly_graphview_property_Node_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_graphview_class_Arrow",
            "language": "ts",
            "module": "graphview",
            "kind": "class",
            "name": "Arrow",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Arrow {\n    linkDiv: HTMLElement;\n    parentDiv: HTMLElement;\n    div: HTMLElement;\n    drawRect: Rect = new Rect(0,0,0,0);\n    xVertical: number = 0;\n    path: SVGPathElement;\n    constructor(linkDiv: HTMLElement, parentDiv: HTMLElement, div: HTMLElement) {\n        this.linkDiv = linkDiv; this.parentDiv = parentDiv; this.div = div;\n        this.path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n        this.path.setAttribute('stroke', '#87bdb5');\n        this.path.setAttribute('stroke-width', '3');\n        this.path.setAttribute('stroke-opacity', '1');\n        this.path.setAttribute('fill', 'transparent');\n    }\n    addToSVG(svg: SVGSVGElement) {\n        svg.appendChild(this.path);\n    }\n    removeFromSVG() {\n        this.path.remove();\n    }\n    update() {\n        this.initDrawRect();\n        this.updatePath();\n    }\n    initDrawRect() {\n        const parentRect = rect(this.parentDiv);\n        const linkRect = rect(this.linkDiv);\n        const targetRect = rect(this.div);\n        const xFrom = parentRect.right + 2;\n        let yFrom = (linkRect.top + linkRect.bottom)/2;\n        yFrom = Math.max(yFrom, parentRect.top + 12);\n        yFrom = Math.min(yFrom, parentRect.bottom - 12);\n        const xTo = targetRect.left - 2;\n        let yTo = yFrom;\n        yTo = Math.max(yTo, targetRect.top + 12);\n        yTo = Math.min(yTo, targetRect.bottom - 12);\n        this.drawRect = new Rect(xFrom, yFrom, xTo, yTo);\n        this.xVertical = (xFrom + xTo)/2;\n    }\n    updatePath() {\n        /*if (!document.body.contains(this.linkDiv) || !document.body.contains(this.div)) {\n            this.removeFromSVG();\n            return;\n        }*/\n        const startX = this.drawRect.left;\n        const startY = this.drawRect.top;\n        const endX = this.drawRect.right;\n        const endY = this.drawRect.bottom;\n        const cornerRadius = Math.min(Math.abs(endY-startY)/2, 10);\n        const midX = this.xVertical;\n        const vs = (endY < startY) ? -1 : +1;\n\n        const d = [\n            `M ${startX} ${startY}`,\n            `H ${midX - cornerRadius}`,\n            `Q ${midX} ${startY} ${midX} ${startY + vs*cornerRadius}`,\n            `V ${endY - vs*cornerRadius}`,\n            `Q ${midX} ${endY} ${midX + cornerRadius} ${endY}`,\n            `H ${endX}`,\n        ].join(' ');\n\n        this.path.setAttribute('d', d);\n    }\n}",
                    "language": "ts",
                    "iLine": 628,
                    "jLine": 692
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 104,
                    "jChar": 108
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 115,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 277,
                    "jChar": 285
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 301,
                    "jChar": 311
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 329,
                    "jChar": 333
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_path"
                    ],
                    "iChar": 353,
                    "jChar": 358
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 763,
                    "jChar": 770
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 807,
                    "jChar": 820
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 836,
                    "jChar": 847
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 905,
                    "jChar": 909
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 1047,
                    "jChar": 1053
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 1088,
                    "jChar": 1092
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 1103,
                    "jChar": 1110
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 1256,
                    "jChar": 1261
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_drawRect"
                    ],
                    "iChar": 1407,
                    "jChar": 1416
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_xVertical"
                    ],
                    "iChar": 1465,
                    "jChar": 1475
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_removeFromSVG"
                    ],
                    "iChar": 1628,
                    "jChar": 1642
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 271,
                    "jChar": 276
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowMap"
                    ],
                    "iChar": 27,
                    "jChar": 32
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 95,
                    "jChar": 100
                }
            ],
            "children": [
                "ts_firefly_graphview_property_Arrow_linkDiv",
                "ts_firefly_graphview_property_Arrow_parentDiv",
                "ts_firefly_graphview_property_Arrow_div",
                "ts_firefly_graphview_property_Arrow_drawRect",
                "ts_firefly_graphview_property_Arrow_xVertical",
                "ts_firefly_graphview_property_Arrow_path",
                "ts_firefly_graphview_method_Arrow_constructor",
                "ts_firefly_graphview_method_Arrow_addToSVG",
                "ts_firefly_graphview_method_Arrow_removeFromSVG",
                "ts_firefly_graphview_method_Arrow_update",
                "ts_firefly_graphview_method_Arrow_initDrawRect",
                "ts_firefly_graphview_method_Arrow_updatePath",
                "ts_firefly_graphview_property_Arrow_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_container",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "container",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "container: HTMLElement;",
                    "language": "ts",
                    "iLine": 26,
                    "jLine": 26
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 929,
                    "jChar": 939
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2024,
                    "jChar": 2034
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 153,
                    "jChar": 163
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_find"
                    ],
                    "iChar": 166,
                    "jChar": 176
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 141,
                    "jChar": 151
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1308,
                    "jChar": 1318
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findDivContainingLink"
                    ],
                    "iChar": 241,
                    "jChar": 251
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 318,
                    "jChar": 328
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 762,
                    "jChar": 772
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_nodeMap",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "nodeMap",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "nodeMap: Map<HTMLElement, Node> = new Map();",
                    "language": "ts",
                    "iLine": 27,
                    "jLine": 27
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 26,
                    "jChar": 30
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3455,
                    "jChar": 3463
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 92,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 108,
                    "jChar": 116
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 821,
                    "jChar": 829
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update"
                    ],
                    "iChar": 165,
                    "jChar": 173
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 278,
                    "jChar": 286
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 109,
                    "jChar": 117
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_anyNodeSizeChanged"
                    ],
                    "iChar": 57,
                    "jChar": 65
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_columns",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "columns",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "columns: Node[][] = [];",
                    "language": "ts",
                    "iLine": 28,
                    "jLine": 28
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 9,
                    "jChar": 13
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7908,
                    "jChar": 7916
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2171,
                    "jChar": 2179
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 132,
                    "jChar": 140
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_sortColumns"
                    ],
                    "iChar": 86,
                    "jChar": 94
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 101,
                    "jChar": 109
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addToColumnArray"
                    ],
                    "iChar": 112,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 41,
                    "jChar": 49
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 25,
                    "jChar": 33
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_padding",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "padding",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "padding: number = 24;",
                    "language": "ts",
                    "iLine": 29,
                    "jLine": 29
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8787,
                    "jChar": 8795
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_xMax"
                    ],
                    "iChar": 157,
                    "jChar": 165
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 242,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 206,
                    "jChar": 214
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_arrowsSVG",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "arrowsSVG",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "arrowsSVG: SVGSVGElement;",
                    "language": "ts",
                    "iLine": 30,
                    "jLine": 30
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1059,
                    "jChar": 1069
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 271,
                    "jChar": 281
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1622,
                    "jChar": 1632
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 189,
                    "jChar": 199
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_arrowMap",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "arrowMap",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "arrowMap: Map<HTMLElement, Arrow> = new Map();",
                    "language": "ts",
                    "iLine": 31,
                    "jLine": 31
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 27,
                    "jChar": 32
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 16932,
                    "jChar": 16941
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 135,
                    "jChar": 144
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_removeArrow"
                    ],
                    "iChar": 56,
                    "jChar": 65
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateArrows"
                    ],
                    "iChar": 43,
                    "jChar": 52
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_htmlFunction",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "htmlFunction",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "htmlFunction : Function;",
                    "language": "ts",
                    "iLine": 32,
                    "jLine": 32
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 965,
                    "jChar": 978
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 185,
                    "jChar": 198
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 151,
                    "jChar": 164
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_highlightFunction",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "highlightFunction",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "highlightFunction : Function;",
                    "language": "ts",
                    "iLine": 33,
                    "jLine": 33
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1007,
                    "jChar": 1025
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 223,
                    "jChar": 241
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 496,
                    "jChar": 514
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_attentionNode",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "attentionNode",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "attentionNode: Node|null;",
                    "language": "ts",
                    "iLine": 34,
                    "jLine": 34
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1103,
                    "jChar": 1117
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 311,
                    "jChar": 325
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_attention"
                    ],
                    "iChar": 64,
                    "jChar": 78
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 1302,
                    "jChar": 1316
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 29,
                    "jChar": 43
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_scrolling",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "scrolling",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "scrolling: boolean = false;",
                    "language": "ts",
                    "iLine": 35,
                    "jLine": 35
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 12057,
                    "jChar": 12067
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 471,
                    "jChar": 481
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_xScroll",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "xScroll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "xScroll: number = 0;",
                    "language": "ts",
                    "iLine": 36,
                    "jLine": 36
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6129,
                    "jChar": 6137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 159,
                    "jChar": 167
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 401,
                    "jChar": 409
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 131,
                    "jChar": 139
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1666,
                    "jChar": 1674
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 442,
                    "jChar": 450
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 178,
                    "jChar": 186
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_yScroll",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "yScroll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "yScroll: number = 0;",
                    "language": "ts",
                    "iLine": 37,
                    "jLine": 37
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6165,
                    "jChar": 6173
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 191,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 443,
                    "jChar": 451
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 154,
                    "jChar": 162
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1697,
                    "jChar": 1705
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 482,
                    "jChar": 490
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 217,
                    "jChar": 225
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_xScrollTarget",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "xScrollTarget",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "xScrollTarget: number = 0;",
                    "language": "ts",
                    "iLine": 38,
                    "jLine": 38
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 11769,
                    "jChar": 11783
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 211,
                    "jChar": 225
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_yScrollTarget",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "yScrollTarget",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "yScrollTarget: number = 0;",
                    "language": "ts",
                    "iLine": 39,
                    "jLine": 39
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 11789,
                    "jChar": 11803
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 231,
                    "jChar": 245
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_autoScroll",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "autoScroll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "autoScroll: boolean = false;",
                    "language": "ts",
                    "iLine": 40,
                    "jLine": 40
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_closedNodes",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "closedNodes",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "closedNodes: any[] = [];            // nodes we've closed but might reopen, stored as json",
                    "language": "ts",
                    "iLine": 41,
                    "jLine": 41
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2305,
                    "jChar": 2317
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 238,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 153,
                    "jChar": 165
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 67,
                    "jChar": 79
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 242,
                    "jChar": 254
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_canvasRect",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "canvasRect",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "canvasRect: Rect;                   // bounding-rect of all nodes, or window rect, whichever is bigger",
                    "language": "ts",
                    "iLine": 42,
                    "jLine": 42
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 12,
                    "jChar": 16
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1138,
                    "jChar": 1149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2509,
                    "jChar": 2520
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 342,
                    "jChar": 353
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 845,
                    "jChar": 856
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 102,
                    "jChar": 113
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_constructor",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "constructor",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// setup: pass the div that's going to hold all nodes\nconstructor(container: HTMLElement, htmlFunction: Function, highlightFunction: Function) {\n    this.container = container;\n    this.htmlFunction = htmlFunction;\n    this.highlightFunction = highlightFunction;\n    this.arrowsSVG = this.initArrows();\n    this.attentionNode = null;\n    this.canvasRect = new Rect(0, 0, document.body.clientWidth, document.body.clientHeight);\n}",
                    "language": "ts",
                    "iLine": 44,
                    "jLine": 52
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 153,
                    "jChar": 163
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_htmlFunction"
                    ],
                    "iChar": 185,
                    "jChar": 198
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_highlightFunction"
                    ],
                    "iChar": 223,
                    "jChar": 241
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowsSVG"
                    ],
                    "iChar": 271,
                    "jChar": 281
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 288,
                    "jChar": 299
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_attentionNode"
                    ],
                    "iChar": 311,
                    "jChar": 325
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_canvasRect"
                    ],
                    "iChar": 342,
                    "jChar": 353
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 360,
                    "jChar": 364
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 128,
                    "jChar": 138
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_find",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "find",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// given an id, returns the first div with that ID (expected to be unique)\nfind(id: string, parent?:HTMLElement) : HTMLElement | null {\n    if (!parent) parent = this.container;\n    const elementsArray = Array.from(parent.querySelectorAll(`#${id}`));\n    if (elementsArray.length == 0) return null;\n    return elementsArray[0] as HTMLElement;\n}",
                    "language": "ts",
                    "iLine": 54,
                    "jLine": 60
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 166,
                    "jChar": 176
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 5138,
                    "jChar": 5143
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 1332,
                    "jChar": 1337
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 358,
                    "jChar": 363
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 219,
                    "jChar": 224
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_userObj",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "userObj",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// given a div, returns the userObj of the first node that matches\nuserObj(div: HTMLElement) : any {\n    const node = this.get(div);\n    if (!node) return null;\n    return node.userObj;\n}",
                    "language": "ts",
                    "iLine": 62,
                    "jLine": 67
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 122,
                    "jChar": 126
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1800,
                    "jChar": 1808
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1434,
                    "jChar": 1442
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 110,
                    "jChar": 118
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 172,
                    "jChar": 180
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 209,
                    "jChar": 217
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 109,
                    "jChar": 117
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 104,
                    "jChar": 112
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_findLink",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "findLink",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// given a div, returns the linkDiv that opened it (todo: more than one? IDK)\nfindLink(div: HTMLElement) : HTMLElement | null {\n    const node = this.get(div);\n    return node ? node.linkDiv : null;\n}",
                    "language": "ts",
                    "iLine": 69,
                    "jLine": 73
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 149,
                    "jChar": 153
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 182,
                    "jChar": 190
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_closeCard"
                    ],
                    "iChar": 88,
                    "jChar": 97
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_close",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "close",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// closes a div that's open, and all children as well\nclose(div: HTMLElement) {\n    const node = this.get(div)!;\n    if (node) {\n        let nodes = this.allChildren(node);\n        for(let i = 1; i < nodes.length; i++) { \n            this.closedNodes.push(nodes[i].json());\n        }\n        //console.log(\"closed nodes:\");\n        //for(const c of this.closedNodes) { console.log(\"  \", user(c.id)) };\n        for(let node of nodes) { this.disappear(node); }\n    }\n    this.arrangeAll();\n}",
                    "language": "ts",
                    "iLine": 75,
                    "jLine": 88
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 101,
                    "jChar": 105
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 153,
                    "jChar": 165
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_closedNodes"
                    ],
                    "iChar": 238,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 264,
                    "jChar": 269
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 439,
                    "jChar": 449
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 473,
                    "jChar": 484
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_closeCard"
                    ],
                    "iChar": 185,
                    "jChar": 191
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_attention",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "attention",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// pay attention to (div)\nattention(div: HTMLElement) {\n    this.attentionNode = this.get(div);\n    //console.log(\"attention:\", user(this.attentionNode!.div.id));\n}",
                    "language": "ts",
                    "iLine": 90,
                    "jLine": 94
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_attentionNode"
                    ],
                    "iChar": 64,
                    "jChar": 78
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 85,
                    "jChar": 89
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 587,
                    "jChar": 597
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_disappear",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "disappear",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// animates to nothing over (time) seconds, then closes\ndisappear(node: Node, time: number=0.25): void {\n    let div = node.div;\n    if (node.linkDiv) {\n        this.removeArrow(node.linkDiv);\n    } \n    div.style.width = div.scrollWidth + \"px\";\n    div.style.height = div.scrollHeight + \"px\";\n    div.style.transition = `width ${time}s, height ${time}s`;\n    div.offsetWidth;\n    div.offsetHeight;\n    div.style.width = '0'; div.style.height = '0';\n    setTimeout(() => {this.closeSingleNode(node);}, (time-0.1)*1000);\n}",
                    "language": "ts",
                    "iLine": 96,
                    "jLine": 109
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 72,
                    "jChar": 76
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 123,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 141,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_removeArrow"
                    ],
                    "iChar": 165,
                    "jChar": 177
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 213,
                    "jChar": 219
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 259,
                    "jChar": 266
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 476,
                    "jChar": 492
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2522,
                    "jChar": 2532
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 439,
                    "jChar": 449
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_allChildren",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "allChildren",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "allChildren(node: Node) : Node[] {\n    let result : Node[] = [ node ];\n    for(let n of this.nodeMap.values()) {\n        if (n.parentDiv == node.div) result.push(...this.allChildren(n));\n    }\n    return result;\n}",
                    "language": "ts",
                    "iLine": 111,
                    "jLine": 117
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 18,
                    "jChar": 22
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 92,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 126,
                    "jChar": 136
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 144,
                    "jChar": 148
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2212,
                    "jChar": 2224
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 153,
                    "jChar": 165
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 85,
                    "jChar": 97
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_closeSingleNode",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "closeSingleNode",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "closeSingleNode(node: Node) {\n    if (node.linkDiv) {\n        this.removeArrow(node.linkDiv);\n    }\n    this.nodeMap.delete(node.div);\n    node.div.remove();\n    node.remove();\n}",
                    "language": "ts",
                    "iLine": 119,
                    "jLine": 126
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 22,
                    "jChar": 26
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 42,
                    "jChar": 50
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_removeArrow"
                    ],
                    "iChar": 66,
                    "jChar": 78
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 108,
                    "jChar": 116
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 128,
                    "jChar": 132
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 147,
                    "jChar": 154
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3300,
                    "jChar": 3316
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 476,
                    "jChar": 492
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_reopen",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "reopen",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "    reopen(id: string, linkID: string, parentID: string, userObj: any, emphasize: boolean=false) {\n        let toOpen : any[] = [];\n\n        let i = this.closedNodes.findIndex(n => n.id == id);        // is new node in closedNodes?\n        if (i == -1) {\n            toOpen = [ { id: id, link: linkID ?? \"null\",            // if no, make a new json version\n                parent: parentID ?? \"null\",\n                emphasize: emphasize,\n                userObj: userObj }];\n        } else {\n            toOpen = this.closedNodes.splice(i, 1);                 // otherwise get it from closedNodes\n        }\n\n        // grab all nodes from closedNodes whose parents are in (tOpen)\n        let iCheck = 0;\n        while(iCheck < toOpen.length) {\n            const p = toOpen[iCheck++];\n            let remaining: any[] = [];\n            for(let c of this.closedNodes) {\n                if (c.parent == p.id) {\n                    toOpen.push(c);\n                } else {\n                    remaining.push(c);\n                }\n            }\n            this.closedNodes = remaining;\n        }\n        //console.log(\"reopen\", user(id));\n        for(const c of toOpen) {\n            //console.log(\"   \", user(c.id));\n        }\n\n        // and open them\n        this.openJsonNodeList(toOpen);\n        this.attentionNode = this.get(this.find(id)!);\n        //console.log(\"attention:\", user(this.attentionNode!.div.id));\n    }",
                    "language": "ts",
                    "iLine": 128,
                    "jLine": 164
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_closedNodes"
                    ],
                    "iChar": 153,
                    "jChar": 165
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_parent"
                    ],
                    "iChar": 890,
                    "jChar": 897
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 1263,
                    "jChar": 1280
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_attentionNode"
                    ],
                    "iChar": 1302,
                    "jChar": 1316
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 1323,
                    "jChar": 1327
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_find"
                    ],
                    "iChar": 1332,
                    "jChar": 1337
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 369,
                    "jChar": 376
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_open",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "open",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// opens a new node, generates the HTML\nopen(id: string, linkID: string, parentID: string, userObj: any, emphasize: boolean=false) {\n    let div = this.htmlFunction(id, userObj);\n    div.style.transition = 'max-width 0.5s, max-height 0.5s, background-color 0.5s';\n    let linkDiv = null;\n    if (linkID != \"\" && parentID != \"\") {\n        let parentDiv = this.find(parentID);\n        if (parentDiv) linkDiv = this.find(linkID, parentDiv); else linkDiv = null;\n    }\n    if (linkDiv) {\n        this.highlightFunction(linkDiv, true);\n    }\n    let node: Node = this.add(div, linkDiv, userObj);\n    if (emphasize) {\n        node!.emphasize = true;\n    }\n}",
                    "language": "ts",
                    "iLine": 166,
                    "jLine": 182
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_htmlFunction"
                    ],
                    "iChar": 151,
                    "jChar": 164
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_find"
                    ],
                    "iChar": 358,
                    "jChar": 363
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_highlightFunction"
                    ],
                    "iChar": 496,
                    "jChar": 514
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 551,
                    "jChar": 555
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 562,
                    "jChar": 566
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 625,
                    "jChar": 635
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6333,
                    "jChar": 6338
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 79,
                    "jChar": 84
                },
                {
                    "targets": [
                        "ts_firefly_db_function_openDB"
                    ],
                    "iChar": 279,
                    "jChar": 284
                },
                {
                    "targets": [
                        "ts_firefly_db_function_storeHandle"
                    ],
                    "iChar": 168,
                    "jChar": 173
                },
                {
                    "targets": [
                        "ts_firefly_db_function_getStoredHandle"
                    ],
                    "iChar": 213,
                    "jChar": 218
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_openJson",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "openJson",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "openJson(obj: any) {\n    this.openJsonNodeList(obj.nodes);\n    this.closedNodes = obj.closed;\n    //console.log(\"closed nodelist:\", this.closedNodes);\n    this.xScroll = obj.xScroll;\n    this.yScroll = obj.yScroll;\n    scrollTo(this.xScroll, this.yScroll);\n}",
                    "language": "ts",
                    "iLine": 184,
                    "jLine": 191
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 29,
                    "jChar": 46
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_closedNodes"
                    ],
                    "iChar": 67,
                    "jChar": 79
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 159,
                    "jChar": 167
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 191,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollTo"
                    ],
                    "iChar": 219,
                    "jChar": 227
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 250,
                    "jChar": 259
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_openJsonNodeList",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "openJsonNodeList",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "openJsonNodeList(nodesJson: any[]) {\n    for(let n of nodesJson) {\n        this.open(n.id, n.link, n.parent, n.userObj, n.emphasize);\n    }\n}",
                    "language": "ts",
                    "iLine": 193,
                    "jLine": 197
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 79,
                    "jChar": 84
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_parent"
                    ],
                    "iChar": 100,
                    "jChar": 107
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 110,
                    "jChar": 118
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 121,
                    "jChar": 131
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 5069,
                    "jChar": 5086
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 1263,
                    "jChar": 1280
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 29,
                    "jChar": 46
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_add",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "add",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// adds a div to the manager, and to the container div\nadd(div: HTMLElement, link: HTMLElement | null, userObj: any = null) : Node {\n    this.container.appendChild(div);\n    let parentDiv = (link)? this.findDivContainingLink(link) : null;\n    let xTarget = 0;\n    let yTarget = 0;\n    if (link && parentDiv) {\n        const prect = rect(parentDiv);\n        const brect = rect(link);\n        const crect = rect(div);\n        xTarget = brect.left;\n        yTarget = ((brect.top + brect.bottom)/2) - (crect.height()/2);\n    } else {\n        const crect = rect(div);\n        xTarget = crect.left + 150;\n        yTarget = (window.innerHeight / 2) - (crect.height()/2) - 32;\n    }\n    let node = new Node(this, div, link, parentDiv, userObj);\n    node.setTargetPos(xTarget, yTarget);\n    node.setPos(xTarget, yTarget);\n    this.nodeMap.set(div, node);\n    if (link && parentDiv) {\n        this.addArrow(link, parentDiv, div);\n    }\n    this.arrangeAll();          // todo: call this every frame\n    return node;\n}",
                    "language": "ts",
                    "iLine": 199,
                    "jLine": 225
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 126,
                    "jChar": 130
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 141,
                    "jChar": 151
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findDivContainingLink"
                    ],
                    "iChar": 202,
                    "jChar": 224
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 332,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 439,
                    "jChar": 444
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 471,
                    "jChar": 475
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 483,
                    "jChar": 490
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 503,
                    "jChar": 510
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 694,
                    "jChar": 699
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setTargetPos"
                    ],
                    "iChar": 745,
                    "jChar": 758
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 786,
                    "jChar": 793
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 821,
                    "jChar": 829
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 887,
                    "jChar": 896
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 934,
                    "jChar": 945
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 5843,
                    "jChar": 5847
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 562,
                    "jChar": 566
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 193,
                    "jChar": 197
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_emphasize",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "emphasize",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// emphasizes element (moves shadow forward in space)\nemphasize(div: HTMLElement, onOff: boolean) {\n    let node = this.get(div);\n    if (!node) return;\n    node.emphasize = onOff; \n    node.updateShadow();\n}",
                    "language": "ts",
                    "iLine": 227,
                    "jLine": 233
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 119,
                    "jChar": 123
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 190,
                    "jChar": 203
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 5914,
                    "jChar": 5924
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 3947,
                    "jChar": 3957
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 625,
                    "jChar": 635
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 121,
                    "jChar": 131
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 101,
                    "jChar": 111
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 171,
                    "jChar": 181
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 513,
                    "jChar": 523
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_arrangeAll",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "arrangeAll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// arranges all views : computes xTarget, yTarget for each view\narrangeAll() {\n    this.sortColumns();\n    let xPos = this.xMax(this.columns[0]);\n    for(let i = 1; i < this.columns.length; i++) {\n        let groups : Node[][] = this.splitColumnIntoGroups(i);\n        for (let group of groups) {\n            this.spaceNodesInGroup(group, xPos);\n        }\n        this.spaceGroupsVertically(groups);\n        xPos = this.xMax(this.columns[i]);\n    }\n    const widthInPixels = getBodyWidth();\n    const newWidth = Math.max(window.innerWidth, xPos);\n    document.body.style.width = `${newWidth}px`;\n}",
                    "language": "ts",
                    "iLine": 235,
                    "jLine": 250
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_sortColumns"
                    ],
                    "iChar": 87,
                    "jChar": 99
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_xMax"
                    ],
                    "iChar": 122,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 132,
                    "jChar": 140
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 218,
                    "jChar": 222
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 233,
                    "jChar": 255
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 312,
                    "jChar": 330
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceGroupsVertically"
                    ],
                    "iChar": 367,
                    "jChar": 389
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getBodyWidth"
                    ],
                    "iChar": 474,
                    "jChar": 486
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 569,
                    "jChar": 575
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2564,
                    "jChar": 2575
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 473,
                    "jChar": 484
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 934,
                    "jChar": 945
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update"
                    ],
                    "iChar": 70,
                    "jChar": 81
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_sortColumns",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "sortColumns",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// sort nodes within each column by link order\nsortColumns() {\n    for(let col of this.columns) {\n        col.sort((a, b) => (a.linkIndex - b.linkIndex));\n    }\n}",
                    "language": "ts",
                    "iLine": 252,
                    "jLine": 257
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 86,
                    "jChar": 94
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkIndex"
                    ],
                    "iChar": 127,
                    "jChar": 137
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7859,
                    "jChar": 7871
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 87,
                    "jChar": 99
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_xMax",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "xMax",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// right edge of column\nxMax(nodes: Node[]) : number {\n    let x = 0;\n    for (const node of nodes) {\n        x = Math.max(x, node.targetRect().right + (this.padding * 2));\n    }\n    return x;\n}",
                    "language": "ts",
                    "iLine": 259,
                    "jLine": 266
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 130,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 143,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_padding"
                    ],
                    "iChar": 157,
                    "jChar": 165
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7898,
                    "jChar": 7903
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 122,
                    "jChar": 127
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_update",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "update",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// update\nupdate() {\n    if (this.anyNodeSizeChanged()) {\n        this.arrangeAll();\n    }\n    this.updateCanvas();\n    this.updateScroll();\n    for(let node of this.nodeMap.values()) {\n        node.update();\n    }\n    this.updateArrows();\n}",
                    "language": "ts",
                    "iLine": 268,
                    "jLine": 279
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_anyNodeSizeChanged"
                    ],
                    "iChar": 33,
                    "jChar": 52
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 70,
                    "jChar": 81
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 99,
                    "jChar": 112
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 124,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 165,
                    "jChar": 173
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateArrows"
                    ],
                    "iChar": 223,
                    "jChar": 236
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 9072,
                    "jChar": 9079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateArrows"
                    ],
                    "iChar": 78,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_eventLoop"
                    ],
                    "iChar": 38,
                    "jChar": 45
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_updateCanvas",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "updateCanvas",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "    updateCanvas() {\n        let bounds = new Rect(0,0, window.innerWidth, window.innerHeight);\n        let padding = 10;\n        \n        // Calculate canvas rect based on node positions/sizes\n        // note: bounds may be negative, that's fine\n        for (const node of this.nodeMap.values()) {\n            const r = node.targetRect();\n            bounds.left = Math.min(bounds.left, r.left - padding);\n            bounds.top = Math.min(bounds.top, r.top - padding);\n            bounds.right = Math.max(bounds.right, r.right + padding);\n            bounds.bottom = Math.max(bounds.bottom, r.bottom + padding);\n        }\n        bounds.left = Math.floor(bounds.left);\n        bounds.top = Math.floor(bounds.top);\n        bounds.right = Math.ceil(bounds.right);\n        bounds.bottom = Math.ceil(bounds.bottom);\n        if (bounds.left == this.canvasRect.left &&\n            bounds.top == this.canvasRect.top &&\n            bounds.right == this.canvasRect.right &&\n            bounds.bottom == this.canvasRect.bottom) return;\n\n        const deltaX = bounds.left - this.canvasRect.left;\n        const deltaY = bounds.top - this.canvasRect.top;\n        \n        this.canvasRect = bounds;\n        const xSize = this.canvasRect.width();\n        const ySize = this.canvasRect.height();\n        if (xSize != this.container.offsetWidth ||\n            ySize != this.container.offsetHeight) {\n            this.container.style.width = `${xSize}px`;\n            this.container.style.height = `${ySize}px`;\n            document.body.style.width = `${xSize}px`;\n            document.body.style.height = `${ySize}px`;\n            this.arrowsSVG.setAttribute('viewBox', `0 0 ${xSize} ${ySize}`);\n            this.arrowsSVG.style.width = `${xSize}px`;\n            this.arrowsSVG.style.height = `${ySize}px`;\n        }\n\n        // If any code-container div has drifted upwards or left, adjust all divs\n        if (deltaX != 0 || deltaY != 0) {\n    \n            for (let child of Array.from(this.container.children)) {\n                if (child instanceof HTMLElement) {\n                    let div = child as HTMLElement;\n                    div.style.left = `${div.clientLeft + deltaX}px`;\n                    div.style.top = `${div.clientTop + deltaY}py`;\n                }\n                \n            }\n\n            document.body.scrollLeft += deltaX;\n            document.body.scrollTop += deltaY;\n        }\n    }",
                    "language": "ts",
                    "iLine": 281,
                    "jLine": 335
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_class_Rect",
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 46,
                    "jChar": 51
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 278,
                    "jChar": 286
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 325,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 358,
                    "jChar": 363
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 425,
                    "jChar": 429
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 489,
                    "jChar": 495
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 559,
                    "jChar": 566
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_canvasRect"
                    ],
                    "iChar": 845,
                    "jChar": 856
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 1225,
                    "jChar": 1231
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 1272,
                    "jChar": 1279
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 1308,
                    "jChar": 1318
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowsSVG"
                    ],
                    "iChar": 1622,
                    "jChar": 1632
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_children"
                    ],
                    "iChar": 1989,
                    "jChar": 1998
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8961,
                    "jChar": 8974
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update"
                    ],
                    "iChar": 99,
                    "jChar": 112
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_updateScroll",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "updateScroll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "updateScroll() {\n    if (this.attentionNode && \n        (this.attentionNode.sizeChanged() ||\n         this.attentionNode.moving())) {\n            if (this.attentionNode.div.parentElement) {\n                [this.xScrollTarget, this.yScrollTarget] = scrollToView(this.attentionNode.div);\n            } else {\n                this.attentionNode = null;\n            }\n    }\n    if (window.scrollX == this.xScroll &&\n        window.scrollY == this.yScroll) {\n        if (this.scrolling && this.attentionNode) {\n            //console.log(\"cleared attention node\");\n            this.attentionNode = null;\n        }\n        this.scrolling = false;\n    } else {\n        this.scrolling = true;\n    }\n    this.xScroll = window.scrollX;\n    this.yScroll = window.scrollY;\n}",
                    "language": "ts",
                    "iLine": 337,
                    "jLine": 359
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_attentionNode"
                    ],
                    "iChar": 29,
                    "jChar": 43
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 75,
                    "jChar": 87
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_moving"
                    ],
                    "iChar": 120,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 168,
                    "jChar": 172
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScrollTarget"
                    ],
                    "iChar": 211,
                    "jChar": 225
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScrollTarget"
                    ],
                    "iChar": 231,
                    "jChar": 245
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 249,
                    "jChar": 261
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 401,
                    "jChar": 409
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 443,
                    "jChar": 451
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_scrolling"
                    ],
                    "iChar": 471,
                    "jChar": 481
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8990,
                    "jChar": 9003
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update"
                    ],
                    "iChar": 124,
                    "jChar": 137
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_get",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "get",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// returns the Node associated with a top-level div\nget(div: HTMLElement) : Node | null {\n    let node = this.nodeMap.get(div);\n    return node ? node : null;\n}",
                    "language": "ts",
                    "iLine": 363,
                    "jLine": 367
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 109,
                    "jChar": 117
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1738,
                    "jChar": 1742
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1699,
                    "jChar": 1703
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj"
                    ],
                    "iChar": 122,
                    "jChar": 126
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findLink"
                    ],
                    "iChar": 149,
                    "jChar": 153
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 101,
                    "jChar": 105
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_attention"
                    ],
                    "iChar": 85,
                    "jChar": 89
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 1323,
                    "jChar": 1327
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize"
                    ],
                    "iChar": 119,
                    "jChar": 123
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 487,
                    "jChar": 491
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_removeArrow"
                    ],
                    "iChar": 65,
                    "jChar": 69
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 437,
                    "jChar": 441
                },
                {
                    "targets": [
                        "ts_firefly_db_function_getStoredHandle"
                    ],
                    "iChar": 507,
                    "jChar": 511
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_findDivContainingLink",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "findDivContainingLink",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// find the top-level div that contains a link elemeent\nfindDivContainingLink(link: HTMLElement | null): HTMLElement | null {\n    if (!link) return null;\n    let parent = link.parentElement;\n    while (parent && parent.parentElement !== this.container) {\n        parent = parent.parentElement;\n    }\n    return (parent) ? parent : null;\n}",
                    "language": "ts",
                    "iLine": 369,
                    "jLine": 377
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 241,
                    "jChar": 251
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6623,
                    "jChar": 6645
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 202,
                    "jChar": 224
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 274,
                    "jChar": 296
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_anyNodeSizeChanged",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "anyNodeSizeChanged",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "anyNodeSizeChanged() : boolean {\n    for(let node of this.nodeMap.values()) {\n        if (node.sizeChanged())\n            return true;\n    }\n    return false;\n}",
                    "language": "ts",
                    "iLine": 379,
                    "jLine": 385
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_nodeMap"
                    ],
                    "iChar": 57,
                    "jChar": 65
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 94,
                    "jChar": 106
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8883,
                    "jChar": 8902
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update"
                    ],
                    "iChar": 33,
                    "jChar": 52
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "splitColumnIntoGroups",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "splitColumnIntoGroups(i: number) : Node[][] {\n    let groups : Node[][] = [];\n    for(const p of this.columns[i-1]) {\n        let group : Node[] = [];\n        for(const node of this.columns[i]) {\n            if (node.parentDiv!.id === p.div.id) {\n                group.push(node);\n            }\n        }\n        if (group.length > 0) {\n            groups.push(group);\n        }\n    }\n    return groups;\n}",
                    "language": "ts",
                    "iLine": 387,
                    "jLine": 401
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 35,
                    "jChar": 39
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 101,
                    "jChar": 109
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 216,
                    "jChar": 226
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 236,
                    "jChar": 240
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8017,
                    "jChar": 8039
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 233,
                    "jChar": 255
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_spaceNodesInGroup",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "spaceNodesInGroup",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "    // within a group (nodes with same parent), space out around centerline\n    spaceNodesInGroup(group: Node[], xPos: number) {\n        // first find the total height of the group, plus padding\n        let sumHeight = (group.length-1) * this.padding;\n        for(const node of group) {\n            sumHeight += node.targetRect().height();\n        }\n\n        // then find the centerline of the group's parent\n        const parentDiv = group[0].parentDiv!;\n        const parentNode = this.get(parentDiv)!;\n        const parentRect = parentNode.targetRect();\n        const centerLine = (parentRect.top + parentRect.bottom)/2;\n        \n        // now space group out vertically around the centerline\n        let yPos = Math.max(this.padding, centerLine - (sumHeight/2));\n        let pivot = (group.length-1)/2;\n        for (let i = 0; i < group.length; i++) {\n            let node = group[i];\n            let xOffset = (i < pivot) ? i : (pivot - (i - pivot));\n            node.setTargetPos(xPos + (xOffset * this.padding), yPos);\n            yPos += node.targetRect().height() + this.padding;\n        }\n    }",
                    "language": "ts",
                    "iLine": 403,
                    "jLine": 426
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 105,
                    "jChar": 109
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_padding"
                    ],
                    "iChar": 242,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 316,
                    "jChar": 327
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 329,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 443,
                    "jChar": 453
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 487,
                    "jChar": 491
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 595,
                    "jChar": 599
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 612,
                    "jChar": 619
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setTargetPos"
                    ],
                    "iChar": 973,
                    "jChar": 986
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8104,
                    "jChar": 8122
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 312,
                    "jChar": 330
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_spaceGroupsVertically",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "spaceGroupsVertically",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// space groups out vertically so they don't overlap\nspaceGroupsVertically(groups: Node[][]) {\n    if (groups.length < 2) return;\n    const even = (groups.length % 2) == 0;\n    const iPivot = Math.floor((groups.length-1)/2);\n    if (even) {\n        this.checkGroups(groups[iPivot], groups[iPivot+1], 0.5);\n    }\n    for(let i=iPivot; i>0; i--) {\n        this.checkGroups(groups[i-1], groups[1], 0);\n    }\n    for(let i=iPivot; i < groups.length-1; i++) {\n        this.checkGroups(groups[i], groups[i+1], 1);\n    }\n}",
                    "language": "ts",
                    "iLine": 428,
                    "jLine": 442
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 83,
                    "jChar": 87
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 253,
                    "jChar": 265
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8167,
                    "jChar": 8189
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 367,
                    "jChar": 389
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_checkGroups",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "checkGroups",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "checkGroups(groupA: Node[], groupB: Node[], mix: number) {\n    const bottomA = groupA[groupA.length-1].targetRect().bottom;\n    const topB = groupB[0].targetRect().top;\n    const overlap =  (bottomA + (this.padding*2)) - topB;\n    if (overlap < 0) return;\n    const moveA = -(overlap * (1 - mix));\n    const moveB = overlap * mix;\n    this.moveGroupVertically(groupA, moveA);\n    this.moveGroupVertically(groupB, moveB);\n}",
                    "language": "ts",
                    "iLine": 444,
                    "jLine": 453
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 20,
                    "jChar": 24
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 102,
                    "jChar": 113
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 115,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 163,
                    "jChar": 167
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_padding"
                    ],
                    "iChar": 206,
                    "jChar": 214
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_moveGroupVertically"
                    ],
                    "iChar": 339,
                    "jChar": 359
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 15061,
                    "jChar": 15073
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceGroupsVertically"
                    ],
                    "iChar": 253,
                    "jChar": 265
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_moveGroupVertically",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "moveGroupVertically",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "moveGroupVertically(group: Node[], yMove: number) {\n    for(let node of group) {\n        node.yTarget += yMove;\n    }\n}",
                    "language": "ts",
                    "iLine": 455,
                    "jLine": 459
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 27,
                    "jChar": 31
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 93,
                    "jChar": 101
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 15728,
                    "jChar": 15748
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 339,
                    "jChar": 359
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_addToColumnArray",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "addToColumnArray",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// add a Node to the correct column, keep them sorted vertically\naddToColumnArray(node : Node) {\n    while (this.columns.length <= node.column) {\n        this.columns.push([]);\n    }\n    this.columns[node.column].push(node);\n}",
                    "language": "ts",
                    "iLine": 463,
                    "jLine": 469
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 112,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_column"
                    ],
                    "iChar": 135,
                    "jChar": 142
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1867,
                    "jChar": 1884
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 605,
                    "jChar": 622
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_initArrows",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "initArrows",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// set up the SVG arrow renderer\ninitArrows() : SVGSVGElement {\n    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svg.style.position = 'absolute';\n    svg.style.width = '100%';\n    svg.style.height = '100%';\n    svg.style.pointerEvents = 'none';\n    svg.style.zIndex = '1000';\n    this.container.appendChild(svg);\n    return svg;\n}",
                    "language": "ts",
                    "iLine": 473,
                    "jLine": 483
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 193,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 223,
                    "jChar": 230
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 318,
                    "jChar": 328
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1076,
                    "jChar": 1087
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 288,
                    "jChar": 299
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_addArrow",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "addArrow",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "addArrow(linkDiv: HTMLElement, parentDiv: HTMLElement, div: HTMLElement) {\n    let arrow = new Arrow(linkDiv, parentDiv, div);\n    this.arrowMap.set(linkDiv, arrow);\n    arrow.addToSVG(this.arrowsSVG);\n}",
                    "language": "ts",
                    "iLine": 485,
                    "jLine": 489
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow",
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 95,
                    "jChar": 101
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowMap"
                    ],
                    "iChar": 135,
                    "jChar": 144
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_addToSVG"
                    ],
                    "iChar": 175,
                    "jChar": 184
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowsSVG"
                    ],
                    "iChar": 189,
                    "jChar": 199
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7384,
                    "jChar": 7393
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 887,
                    "jChar": 896
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_removeArrow",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "removeArrow",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "removeArrow(linkDiv: HTMLElement) {\n    let arrow = this.arrowMap.get(linkDiv);\n    if (arrow) {\n        arrow.removeFromSVG();\n        this.arrowMap.delete(linkDiv);\n    }\n}",
                    "language": "ts",
                    "iLine": 491,
                    "jLine": 497
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowMap"
                    ],
                    "iChar": 56,
                    "jChar": 65
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 65,
                    "jChar": 69
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_removeFromSVG"
                    ],
                    "iChar": 110,
                    "jChar": 124
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2957,
                    "jChar": 2969
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 165,
                    "jChar": 177
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 66,
                    "jChar": 78
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_updateArrows",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "updateArrows",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "updateArrows() {\n    for (let arrow of this.arrowMap.values()) {\n        arrow.update();\n    }\n}",
                    "language": "ts",
                    "iLine": 499,
                    "jLine": 503
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_arrowMap"
                    ],
                    "iChar": 43,
                    "jChar": 52
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update",
                        "ts_firefly_graphview_method_Node_update",
                        "ts_firefly_graphview_method_Arrow_update"
                    ],
                    "iChar": 78,
                    "jChar": 85
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 9105,
                    "jChar": 9118
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update"
                    ],
                    "iChar": 223,
                    "jChar": 236
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_method_GraphView_json",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "json",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "json() : any {\n    let node : Node = this.columns[0][0];\n    let nodes: Node[] = this.allChildren(node);\n    return { xScroll: this.xScroll, yScroll: this.yScroll,\n             nodes:  nodes.map(node => node.json()),\n             closed: this.closedNodes };\n}",
                    "language": "ts",
                    "iLine": 505,
                    "jLine": 511
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 30,
                    "jChar": 34
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 41,
                    "jChar": 49
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 85,
                    "jChar": 97
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 131,
                    "jChar": 139
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 154,
                    "jChar": 162
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_closedNodes"
                    ],
                    "iChar": 242,
                    "jChar": 254
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2331,
                    "jChar": 2336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 264,
                    "jChar": 269
                },
                {
                    "targets": [
                        "ts_firefly_util_function_remote"
                    ],
                    "iChar": 776,
                    "jChar": 781
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 67,
                    "jChar": 72
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_saveAll"
                    ],
                    "iChar": 85,
                    "jChar": 90
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_save"
                    ],
                    "iChar": 103,
                    "jChar": 108
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_load"
                    ],
                    "iChar": 114,
                    "jChar": 119
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_GraphView_}",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 512,
                    "jLine": 512
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_graphview_class_GraphView"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_graph",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "graph",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "graph: GraphView;                       // the view we're a part of",
                    "language": "ts",
                    "iLine": 517,
                    "jLine": 517
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7,
                    "jChar": 16
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1407,
                    "jChar": 1413
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 145,
                    "jChar": 151
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 19,
                    "jChar": 25
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 96,
                    "jChar": 102
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_userObj",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "userObj",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "userObj: any;                           // per-node user info",
                    "language": "ts",
                    "iLine": 518,
                    "jLine": 518
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1800,
                    "jChar": 1808
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1434,
                    "jChar": 1442
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 110,
                    "jChar": 118
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 172,
                    "jChar": 180
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 209,
                    "jChar": 217
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 109,
                    "jChar": 117
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 104,
                    "jChar": 112
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_div",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "div",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "div: HTMLElement;                       // the div we're tracking",
                    "language": "ts",
                    "iLine": 519,
                    "jLine": 519
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1573,
                    "jChar": 1577
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 329,
                    "jChar": 333
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 123,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 144,
                    "jChar": 148
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 128,
                    "jChar": 132
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 168,
                    "jChar": 172
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 236,
                    "jChar": 240
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 311,
                    "jChar": 315
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 67,
                    "jChar": 71
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 45,
                    "jChar": 49
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 56,
                    "jChar": 60
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 292,
                    "jChar": 296
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 41,
                    "jChar": 45
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 138,
                    "jChar": 142
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 135,
                    "jChar": 139
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 102,
                    "jChar": 106
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_linkDiv",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "linkDiv",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "linkDiv: HTMLElement | null;            // the link that triggered this",
                    "language": "ts",
                    "iLine": 520,
                    "jLine": 520
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2015,
                    "jChar": 2023
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1589,
                    "jChar": 1597
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 277,
                    "jChar": 285
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findLink"
                    ],
                    "iChar": 182,
                    "jChar": 190
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 141,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 42,
                    "jChar": 50
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 327,
                    "jChar": 335
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 129,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 68,
                    "jChar": 76
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 86,
                    "jChar": 94
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 92,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 61,
                    "jChar": 69
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_parentDiv",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "parentDiv",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "parentDiv: HTMLElement | null;          // the parent div of the link div that opened this node",
                    "language": "ts",
                    "iLine": 521,
                    "jLine": 521
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3493,
                    "jChar": 3503
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1613,
                    "jChar": 1623
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 301,
                    "jChar": 311
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 126,
                    "jChar": 136
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 216,
                    "jChar": 226
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 443,
                    "jChar": 453
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 351,
                    "jChar": 361
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 117,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 110,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 49,
                    "jChar": 59
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_parentNode",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "parentNode",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "parentNode: Node | null = null;         // the parent node corresponding to parentDiv",
                    "language": "ts",
                    "iLine": 522,
                    "jLine": 522
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 12,
                    "jChar": 16
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1744,
                    "jChar": 1755
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 482,
                    "jChar": 493
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 320,
                    "jChar": 331
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_column",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "column",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "column: number = 0;                     // column we're in (first one zero)",
                    "language": "ts",
                    "iLine": 523,
                    "jLine": 523
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 16188,
                    "jChar": 16195
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1679,
                    "jChar": 1686
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addToColumnArray"
                    ],
                    "iChar": 135,
                    "jChar": 142
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 417,
                    "jChar": 424
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 38,
                    "jChar": 45
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_x",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "x",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "x: number = 0;                          // position right now",
                    "language": "ts",
                    "iLine": 524,
                    "jLine": 524
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2442,
                    "jChar": 2444
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 39,
                    "jChar": 41
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_moving"
                    ],
                    "iChar": 37,
                    "jChar": 39
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 45,
                    "jChar": 47
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_y",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "y",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "y: number = 0;                          // ..",
                    "language": "ts",
                    "iLine": 525,
                    "jLine": 525
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2454,
                    "jChar": 2456
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 51,
                    "jChar": 53
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_moving"
                    ],
                    "iChar": 63,
                    "jChar": 65
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 83,
                    "jChar": 85
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_xTarget",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "xTarget",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "xTarget: number = 0;                    // where we're trying to get to, to avoid others",
                    "language": "ts",
                    "iLine": 526,
                    "jLine": 526
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2348,
                    "jChar": 2356
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setTargetPos"
                    ],
                    "iChar": 45,
                    "jChar": 53
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 76,
                    "jChar": 84
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_moving"
                    ],
                    "iChar": 47,
                    "jChar": 55
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 30,
                    "jChar": 38
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_yTarget",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "yTarget",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "yTarget: number = 0;                    // ..",
                    "language": "ts",
                    "iLine": 527,
                    "jLine": 527
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 15926,
                    "jChar": 15934
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2374,
                    "jChar": 2382
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_moveGroupVertically"
                    ],
                    "iChar": 93,
                    "jChar": 101
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setTargetPos"
                    ],
                    "iChar": 67,
                    "jChar": 75
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 90,
                    "jChar": 98
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_moving"
                    ],
                    "iChar": 73,
                    "jChar": 81
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 68,
                    "jChar": 76
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_width",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "width",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "width: number =0;                       // width on last frame, so we can react to animation",
                    "language": "ts",
                    "iLine": 528,
                    "jLine": 528
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3013,
                    "jChar": 3019
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2073,
                    "jChar": 2079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 213,
                    "jChar": 219
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 569,
                    "jChar": 575
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1225,
                    "jChar": 1231
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 193,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 811,
                    "jChar": 817
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 116,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 42,
                    "jChar": 48
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 279,
                    "jChar": 285
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 283,
                    "jChar": 289
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getBodyWidth"
                    ],
                    "iChar": 131,
                    "jChar": 137
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_height",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "height",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "height: number =0;                      // ..",
                    "language": "ts",
                    "iLine": 529,
                    "jLine": 529
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3063,
                    "jChar": 3070
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2103,
                    "jChar": 2110
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 259,
                    "jChar": 266
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 503,
                    "jChar": 510
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1272,
                    "jChar": 1279
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 329,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 223,
                    "jChar": 230
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 841,
                    "jChar": 848
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 142,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 92,
                    "jChar": 99
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 314,
                    "jChar": 321
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 332,
                    "jChar": 339
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_shadow",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "shadow",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "shadow: HTMLElement;                    // the shadow, all-important :-)",
                    "language": "ts",
                    "iLine": 530,
                    "jLine": 530
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1905,
                    "jChar": 1912
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 643,
                    "jChar": 650
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 120,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 186,
                    "jChar": 193
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_emphasize",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "emphasize",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "emphasize: boolean = false;             // if set, comes forward in the stack",
                    "language": "ts",
                    "iLine": 531,
                    "jLine": 531
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 5914,
                    "jChar": 5924
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 3947,
                    "jChar": 3957
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 625,
                    "jChar": 635
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 121,
                    "jChar": 131
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 101,
                    "jChar": 111
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 171,
                    "jChar": 181
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 513,
                    "jChar": 523
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_linkIndex",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "linkIndex",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "linkIndex: number = 0;                  // sort index for vertical ordering",
                    "language": "ts",
                    "iLine": 532,
                    "jLine": 532
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8565,
                    "jChar": 8575
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1801,
                    "jChar": 1811
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_sortColumns"
                    ],
                    "iChar": 127,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 539,
                    "jChar": 549
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_constructor",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "constructor",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "    constructor(view: GraphView, div: HTMLElement, linkDiv: HTMLElement | null, parentDiv: HTMLElement | null, userObj: any =null) {\n        this.graph = view;\n        this.userObj = userObj;\n        if (parentDiv === undefined) {\n            console.log(\"WARNING: parentDiv undefined!\");\n        }\n        this.div = div; this.linkDiv = linkDiv; this.parentDiv = parentDiv;\n        if (parentDiv) { \n            this.column = this.graph.get(parentDiv)!.column + 1;\n            this.parentNode = this.graph.get(parentDiv);\n            this.linkIndex = this.computeLinkIndex();\n        }\n        this.graph.addToColumnArray(this);\n\n        this.shadow = element(`<div class=\"shadow\"></div>`);\n        this.shadow.style.transition = `top $0.3s`;\n        this.graph.container.appendChild(this.shadow);\n        this.width = div.clientWidth; this.height = div.clientHeight;\n    }",
                    "language": "ts",
                    "iLine": 534,
                    "jLine": 552
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 22,
                    "jChar": 31
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_graph"
                    ],
                    "iChar": 145,
                    "jChar": 151
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 172,
                    "jChar": 180
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 311,
                    "jChar": 315
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 327,
                    "jChar": 335
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 351,
                    "jChar": 361
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_column"
                    ],
                    "iChar": 417,
                    "jChar": 424
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 437,
                    "jChar": 441
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentNode"
                    ],
                    "iChar": 482,
                    "jChar": 493
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkIndex"
                    ],
                    "iChar": 539,
                    "jChar": 549
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 556,
                    "jChar": 573
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addToColumnArray"
                    ],
                    "iChar": 605,
                    "jChar": 622
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_shadow"
                    ],
                    "iChar": 643,
                    "jChar": 650
                },
                {
                    "targets": [
                        "ts_firefly_util_function_element"
                    ],
                    "iChar": 653,
                    "jChar": 660
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_container"
                    ],
                    "iChar": 762,
                    "jChar": 772
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 811,
                    "jChar": 817
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 841,
                    "jChar": 848
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7171,
                    "jChar": 7176
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 694,
                    "jChar": 699
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_remove",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "remove",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "remove() {\n    this.graph.columns[this.column] = this.graph.columns[this.column].filter(item => item !== this);\n    this.shadow.remove();\n}",
                    "language": "ts",
                    "iLine": 554,
                    "jLine": 557
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_graph"
                    ],
                    "iChar": 19,
                    "jChar": 25
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_columns"
                    ],
                    "iChar": 25,
                    "jChar": 33
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_column"
                    ],
                    "iChar": 38,
                    "jChar": 45
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_shadow"
                    ],
                    "iChar": 120,
                    "jChar": 127
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3765,
                    "jChar": 3772
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2277,
                    "jChar": 2284
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 763,
                    "jChar": 770
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 147,
                    "jChar": 154
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_removeFromSVG"
                    ],
                    "iChar": 31,
                    "jChar": 38
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 649,
                    "jChar": 656
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 340,
                    "jChar": 347
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_setTargetPos",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "setTargetPos",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "setTargetPos(x: number, y: number) {\n    this.xTarget = x;\n    this.yTarget = y;\n}",
                    "language": "ts",
                    "iLine": 559,
                    "jLine": 562
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_xTarget"
                    ],
                    "iChar": 45,
                    "jChar": 53
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 67,
                    "jChar": 75
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7226,
                    "jChar": 7239
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 745,
                    "jChar": 758
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 973,
                    "jChar": 986
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_setPos",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "setPos",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "setPos(x: number, y: number) {\n    this.x = x; this.y = y;\n    this.div.style.left = `${x - this.graph.canvasRect.left}px`;\n    this.div.style.top = `${y - this.graph.canvasRect.top}px`;\n}",
                    "language": "ts",
                    "iLine": 564,
                    "jLine": 568
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_x"
                    ],
                    "iChar": 39,
                    "jChar": 41
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_y"
                    ],
                    "iChar": 51,
                    "jChar": 53
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 67,
                    "jChar": 71
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 77,
                    "jChar": 82
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_graph"
                    ],
                    "iChar": 96,
                    "jChar": 102
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_canvasRect"
                    ],
                    "iChar": 102,
                    "jChar": 113
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 142,
                    "jChar": 146
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7271,
                    "jChar": 7278
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 3282,
                    "jChar": 3289
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 786,
                    "jChar": 793
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 231,
                    "jChar": 238
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_targetRect",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "targetRect",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "targetRect() : Rect {\n    const r = rect(this.div);\n    return new Rect(this.xTarget, this.yTarget, this.xTarget + r.width(), this.yTarget + r.height());\n}",
                    "language": "ts",
                    "iLine": 570,
                    "jLine": 573
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 15,
                    "jChar": 19
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 45,
                    "jChar": 49
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 67,
                    "jChar": 72
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_xTarget"
                    ],
                    "iChar": 76,
                    "jChar": 84
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 90,
                    "jChar": 98
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 116,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 142,
                    "jChar": 149
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8760,
                    "jChar": 8771
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_xMax"
                    ],
                    "iChar": 130,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 325,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 316,
                    "jChar": 327
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 102,
                    "jChar": 113
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_sizeChanged",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "sizeChanged",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "sizeChanged() : boolean {\n    return (this.width != this.div.clientWidth ||\n            this.height != this.div.clientHeight);\n}",
                    "language": "ts",
                    "iLine": 575,
                    "jLine": 578
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 42,
                    "jChar": 48
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 56,
                    "jChar": 60
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 92,
                    "jChar": 99
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 11621,
                    "jChar": 11633
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 75,
                    "jChar": 87
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_anyNodeSizeChanged"
                    ],
                    "iChar": 94,
                    "jChar": 106
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_moving",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "moving",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "moving() : boolean {\n    return (this.x != this.xTarget || this.y != this.yTarget);\n}",
                    "language": "ts",
                    "iLine": 580,
                    "jLine": 582
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_x"
                    ],
                    "iChar": 37,
                    "jChar": 39
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_xTarget"
                    ],
                    "iChar": 47,
                    "jChar": 55
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_y"
                    ],
                    "iChar": 63,
                    "jChar": 65
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 73,
                    "jChar": 81
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 11670,
                    "jChar": 11677
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 120,
                    "jChar": 127
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_update",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "update",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "update() {\n    const dx = this.xTarget - this.x;\n    const dy = this.yTarget - this.y;\n    const x = (Math.abs(dx)<=1) ? this.xTarget : (this.x + dx*0.1);\n    const y = (Math.abs(dy)<=1) ? this.yTarget : (this.y + dy*0.1);\n    this.setPos(x, y);\n    this.updateShadow();\n    this.width = this.div.clientWidth; this.height = this.div.clientHeight;\n}",
                    "language": "ts",
                    "iLine": 584,
                    "jLine": 592
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_xTarget"
                    ],
                    "iChar": 30,
                    "jChar": 38
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_x"
                    ],
                    "iChar": 45,
                    "jChar": 47
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_yTarget"
                    ],
                    "iChar": 68,
                    "jChar": 76
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_y"
                    ],
                    "iChar": 83,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 231,
                    "jChar": 238
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 254,
                    "jChar": 267
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 279,
                    "jChar": 285
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 292,
                    "jChar": 296
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 314,
                    "jChar": 321
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 9072,
                    "jChar": 9079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateArrows"
                    ],
                    "iChar": 78,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_eventLoop"
                    ],
                    "iChar": 38,
                    "jChar": 45
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_computeLinkIndex",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "computeLinkIndex",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "computeLinkIndex() {\n    let result = 0;\n    let digit = 1;\n    let node : Node | null = this;\n    while(node) {\n        if (node.linkDiv) {\n            let i = getChildNodeIndex(node.linkDiv);\n            result += (i * digit);\n            digit *= 1000;        // max 1000 links per page!\n        }\n        node = node.parentNode;\n    }\n    return result;\n}",
                    "language": "ts",
                    "iLine": 594,
                    "jLine": 607
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 75,
                    "jChar": 79
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 129,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getChildNodeIndex"
                    ],
                    "iChar": 161,
                    "jChar": 178
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentNode"
                    ],
                    "iChar": 320,
                    "jChar": 331
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1818,
                    "jChar": 1835
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 556,
                    "jChar": 573
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_updateShadow",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "updateShadow",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "updateShadow() {\n    const sr = rect(this.div);\n    const wh = window.innerHeight;\n    let sy = (this.emphasize) ? (wh - 100) : (sr.bottom + 50);\n    sy = Math.max(wh/2+20, sy);\n    this.shadow.style.left = `${sr.left}px`;\n    this.shadow.style.top = `${sy}px`;\n    this.shadow.style.width = `${sr.width()}px`;\n    this.shadow.style.height = `1px`;\n    this.shadow.style.zIndex = `-10`;\n}",
                    "language": "ts",
                    "iLine": 609,
                    "jLine": 619
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 32,
                    "jChar": 36
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 41,
                    "jChar": 45
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 101,
                    "jChar": 111
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 131,
                    "jChar": 138
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_shadow"
                    ],
                    "iChar": 186,
                    "jChar": 193
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 199,
                    "jChar": 204
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 244,
                    "jChar": 248
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 283,
                    "jChar": 289
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_height",
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 332,
                    "jChar": 339
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 7736,
                    "jChar": 7749
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 3309,
                    "jChar": 3322
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize"
                    ],
                    "iChar": 190,
                    "jChar": 203
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 254,
                    "jChar": 267
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_method_Node_json",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "json",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "json() : any {\n    return { id: this.div.id,\n             link: this.linkDiv?.id ?? \"null\",\n             parent: this.parentDiv?.id ?? \"null\",\n             emphasize: this.emphasize,\n             userObj: this.userObj };\n}",
                    "language": "ts",
                    "iLine": 621,
                    "jLine": 627
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 68,
                    "jChar": 76
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 117,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 171,
                    "jChar": 181
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 209,
                    "jChar": 217
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2331,
                    "jChar": 2336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 264,
                    "jChar": 269
                },
                {
                    "targets": [
                        "ts_firefly_util_function_remote"
                    ],
                    "iChar": 776,
                    "jChar": 781
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 67,
                    "jChar": 72
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_saveAll"
                    ],
                    "iChar": 85,
                    "jChar": 90
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_save"
                    ],
                    "iChar": 103,
                    "jChar": 108
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_load"
                    ],
                    "iChar": 114,
                    "jChar": 119
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Node_}",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 628,
                    "jLine": 628
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_graphview_class_Node"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_linkDiv",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "linkDiv",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "linkDiv: HTMLElement;",
                    "language": "ts",
                    "iLine": 631,
                    "jLine": 631
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 2015,
                    "jChar": 2023
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1589,
                    "jChar": 1597
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 277,
                    "jChar": 285
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findLink"
                    ],
                    "iChar": 182,
                    "jChar": 190
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 141,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 42,
                    "jChar": 50
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 327,
                    "jChar": 335
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 129,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 68,
                    "jChar": 76
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 86,
                    "jChar": 94
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 92,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 61,
                    "jChar": 69
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_parentDiv",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "parentDiv",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "parentDiv: HTMLElement;",
                    "language": "ts",
                    "iLine": 632,
                    "jLine": 632
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3493,
                    "jChar": 3503
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1613,
                    "jChar": 1623
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 301,
                    "jChar": 311
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 126,
                    "jChar": 136
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 216,
                    "jChar": 226
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 443,
                    "jChar": 453
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 351,
                    "jChar": 361
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 117,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 110,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 49,
                    "jChar": 59
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_div",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "div",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "div: HTMLElement;",
                    "language": "ts",
                    "iLine": 633,
                    "jLine": 633
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1573,
                    "jChar": 1577
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 329,
                    "jChar": 333
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 123,
                    "jChar": 127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_allChildren"
                    ],
                    "iChar": 144,
                    "jChar": 148
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_closeSingleNode"
                    ],
                    "iChar": 128,
                    "jChar": 132
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 168,
                    "jChar": 172
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_splitColumnIntoGroups"
                    ],
                    "iChar": 236,
                    "jChar": 240
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 311,
                    "jChar": 315
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 67,
                    "jChar": 71
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 45,
                    "jChar": 49
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 56,
                    "jChar": 60
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 292,
                    "jChar": 296
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 41,
                    "jChar": 45
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 138,
                    "jChar": 142
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 135,
                    "jChar": 139
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 102,
                    "jChar": 106
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_drawRect",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "drawRect",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "drawRect: Rect = new Rect(0,0,0,0);",
                    "language": "ts",
                    "iLine": 634,
                    "jLine": 634
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 10,
                    "jChar": 14
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 21,
                    "jChar": 26
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1407,
                    "jChar": 1416
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 498,
                    "jChar": 507
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 204,
                    "jChar": 213
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_xVertical",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "xVertical",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "xVertical: number = 0;",
                    "language": "ts",
                    "iLine": 635,
                    "jLine": 635
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1465,
                    "jChar": 1475
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 552,
                    "jChar": 562
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 440,
                    "jChar": 450
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_path",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "path",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "path: SVGPathElement;",
                    "language": "ts",
                    "iLine": 636,
                    "jLine": 636
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 353,
                    "jChar": 358
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_constructor"
                    ],
                    "iChar": 158,
                    "jChar": 163
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_addToSVG"
                    ],
                    "iChar": 55,
                    "jChar": 60
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_removeFromSVG"
                    ],
                    "iChar": 26,
                    "jChar": 31
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 833,
                    "jChar": 838
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_method_Arrow_constructor",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "constructor",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "constructor(linkDiv: HTMLElement, parentDiv: HTMLElement, div: HTMLElement) {\n    this.linkDiv = linkDiv; this.parentDiv = parentDiv; this.div = div;\n    this.path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    this.path.setAttribute('stroke', '#87bdb5');\n    this.path.setAttribute('stroke-width', '3');\n    this.path.setAttribute('stroke-opacity', '1');\n    this.path.setAttribute('fill', 'transparent');\n}",
                    "language": "ts",
                    "iLine": 637,
                    "jLine": 644
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 86,
                    "jChar": 94
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 110,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 138,
                    "jChar": 142
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_path"
                    ],
                    "iChar": 158,
                    "jChar": 163
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 16888,
                    "jChar": 16894
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 95,
                    "jChar": 101
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_method_Arrow_addToSVG",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "addToSVG",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "addToSVG(svg: SVGSVGElement) {\n    svg.appendChild(this.path);\n}",
                    "language": "ts",
                    "iLine": 645,
                    "jLine": 647
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_path"
                    ],
                    "iChar": 55,
                    "jChar": 60
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 16976,
                    "jChar": 16985
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_addArrow"
                    ],
                    "iChar": 175,
                    "jChar": 184
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_method_Arrow_removeFromSVG",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "removeFromSVG",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "removeFromSVG() {\n    this.path.remove();\n}",
                    "language": "ts",
                    "iLine": 648,
                    "jLine": 650
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_path"
                    ],
                    "iChar": 26,
                    "jChar": 31
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 31,
                    "jChar": 38
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 17136,
                    "jChar": 17150
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1628,
                    "jChar": 1642
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_removeArrow"
                    ],
                    "iChar": 110,
                    "jChar": 124
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 127,
                    "jChar": 141
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_method_Arrow_update",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "update",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "update() {\n    this.initDrawRect();\n    this.updatePath();\n}",
                    "language": "ts",
                    "iLine": 651,
                    "jLine": 654
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 19,
                    "jChar": 32
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 44,
                    "jChar": 55
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 9072,
                    "jChar": 9079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateArrows"
                    ],
                    "iChar": 78,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_eventLoop"
                    ],
                    "iChar": 38,
                    "jChar": 45
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_method_Arrow_initDrawRect",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "initDrawRect",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "initDrawRect() {\n    const parentRect = rect(this.parentDiv);\n    const linkRect = rect(this.linkDiv);\n    const targetRect = rect(this.div);\n    const xFrom = parentRect.right + 2;\n    let yFrom = (linkRect.top + linkRect.bottom)/2;\n    yFrom = Math.max(yFrom, parentRect.top + 12);\n    yFrom = Math.min(yFrom, parentRect.bottom - 12);\n    const xTo = targetRect.left - 2;\n    let yTo = yFrom;\n    yTo = Math.max(yTo, targetRect.top + 12);\n    yTo = Math.min(yTo, targetRect.bottom - 12);\n    this.drawRect = new Rect(xFrom, yFrom, xTo, yTo);\n    this.xVertical = (xFrom + xTo)/2;\n}",
                    "language": "ts",
                    "iLine": 655,
                    "jLine": 669
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 40,
                    "jChar": 44
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_parentDiv",
                        "ts_firefly_graphview_property_Arrow_parentDiv"
                    ],
                    "iChar": 49,
                    "jChar": 59
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 92,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 135,
                    "jChar": 139
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 170,
                    "jChar": 176
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 207,
                    "jChar": 211
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 222,
                    "jChar": 229
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 363,
                    "jChar": 368
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_drawRect"
                    ],
                    "iChar": 498,
                    "jChar": 507
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect",
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 514,
                    "jChar": 519
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_xVertical"
                    ],
                    "iChar": 552,
                    "jChar": 562
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 807,
                    "jChar": 820
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_update"
                    ],
                    "iChar": 19,
                    "jChar": 32
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_method_Arrow_updatePath",
            "language": "ts",
            "module": "graphview",
            "kind": "method",
            "name": "updatePath",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "    updatePath() {\n        /*if (!document.body.contains(this.linkDiv) || !document.body.contains(this.div)) {\n            this.removeFromSVG();\n            return;\n        }*/\n        const startX = this.drawRect.left;\n        const startY = this.drawRect.top;\n        const endX = this.drawRect.right;\n        const endY = this.drawRect.bottom;\n        const cornerRadius = Math.min(Math.abs(endY-startY)/2, 10);\n        const midX = this.xVertical;\n        const vs = (endY < startY) ? -1 : +1;\n\n        const d = [\n            `M ${startX} ${startY}`,\n            `H ${midX - cornerRadius}`,\n            `Q ${midX} ${startY} ${midX} ${startY + vs*cornerRadius}`,\n            `V ${endY - vs*cornerRadius}`,\n            `Q ${midX} ${endY} ${midX + cornerRadius} ${endY}`,\n            `H ${endX}`,\n        ].join(' ');\n\n        this.path.setAttribute('d', d);\n    }",
                    "language": "ts",
                    "iLine": 670,
                    "jLine": 693
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_linkDiv",
                        "ts_firefly_graphview_property_Arrow_linkDiv"
                    ],
                    "iChar": 61,
                    "jChar": 69
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_div",
                        "ts_firefly_graphview_property_Arrow_div"
                    ],
                    "iChar": 102,
                    "jChar": 106
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_removeFromSVG"
                    ],
                    "iChar": 127,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_drawRect"
                    ],
                    "iChar": 204,
                    "jChar": 213
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 213,
                    "jChar": 218
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 256,
                    "jChar": 260
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 296,
                    "jChar": 302
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 338,
                    "jChar": 345
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_xVertical"
                    ],
                    "iChar": 440,
                    "jChar": 450
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_path"
                    ],
                    "iChar": 833,
                    "jChar": 838
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 836,
                    "jChar": 847
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_update"
                    ],
                    "iChar": 44,
                    "jChar": 55
                }
            ],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_graphview_property_Arrow_}",
            "language": "ts",
            "module": "graphview",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 694,
                    "jLine": 694
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_graphview_class_Arrow"
        },
        {
            "uid": "ts_firefly_util_class_Rect",
            "language": "ts",
            "module": "util",
            "kind": "class",
            "name": "Rect",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "export class Rect {\n    left: number;\n    top: number;\n    right: number;\n    bottom: number;\n    constructor(left: number, top: number, right: number, bottom: number) {\n        this.left = left; this.top = top; this.right = right; this.bottom = bottom; \n    }\n    width() : number { return this.right - this.left; }\n    height() : number { return this.bottom - this.top; }\n}",
                    "language": "ts",
                    "iLine": 6,
                    "jLine": 16
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 182,
                    "jChar": 187
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 200,
                    "jChar": 204
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 216,
                    "jChar": 222
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 236,
                    "jChar": 243
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 672,
                    "jChar": 676
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2624,
                    "jChar": 2628
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 104,
                    "jChar": 108
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_canvasRect"
                    ],
                    "iChar": 12,
                    "jChar": 16
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 360,
                    "jChar": 364
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 46,
                    "jChar": 50
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 15,
                    "jChar": 19
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_drawRect"
                    ],
                    "iChar": 10,
                    "jChar": 14
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 514,
                    "jChar": 518
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 111,
                    "jChar": 115
                }
            ],
            "children": [
                "ts_firefly_util_property_Rect_left",
                "ts_firefly_util_property_Rect_top",
                "ts_firefly_util_property_Rect_right",
                "ts_firefly_util_property_Rect_bottom",
                "ts_firefly_util_method_Rect_constructor",
                "ts_firefly_util_method_Rect_width",
                "ts_firefly_util_method_Rect_height",
                "ts_firefly_util_property_Rect_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_element",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "element",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "export function element(html: string) : HTMLElement {\n    let div = document.createElement('div');\n    div.innerHTML = html;  \n    return div.firstChild as HTMLElement;\n}",
                    "language": "ts",
                    "iLine": 18,
                    "jLine": 22
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 1915,
                    "jChar": 1922
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 653,
                    "jChar": 660
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getChildNodeIndex"
                    ],
                    "iChar": 34,
                    "jChar": 41
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 153,
                    "jChar": 160
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 186,
                    "jChar": 193
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_rect",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "rect",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// given an element, returns the rectangle relative to document origin\nexport function rect(el: HTMLElement) : Rect {\n            const r = el.getBoundingClientRect();\n        return new Rect(r.left + window.scrollX, r.top + window.scrollY,\n                    r.right + window.scrollX, r.bottom + window.scrollY);\n}",
                    "language": "ts",
                    "iLine": 24,
                    "jLine": 29
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 111,
                    "jChar": 115
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 187,
                    "jChar": 192
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 193,
                    "jChar": 198
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 218,
                    "jChar": 222
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 262,
                    "jChar": 268
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 288,
                    "jChar": 295
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2649,
                    "jChar": 2653
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 905,
                    "jChar": 909
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 332,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 32,
                    "jChar": 36
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 40,
                    "jChar": 44
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 99,
                    "jChar": 103
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_animateLogoToLeft"
                    ],
                    "iChar": 279,
                    "jChar": 283
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_getBodyWidth",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "getBodyWidth",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// find width of body element\nexport function getBodyWidth() : number {\n    let bodyWidth: string = getComputedStyle(document.body).width;\n    return parseInt(bodyWidth, 10);\n}",
                    "language": "ts",
                    "iLine": 31,
                    "jLine": 35
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_property_Node_width",
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 131,
                    "jChar": 137
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8286,
                    "jChar": 8298
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 474,
                    "jChar": 486
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_scrollToView",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "scrollToView",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "export function scrollToView(div: HTMLElement, padding: number = 48) : [number, number]{\n    const rect = div.getBoundingClientRect();\n    const windowHeight = window.innerHeight;\n    const windowWidth = window.innerWidth;\n    let x = window.scrollX;\n    let y = window.scrollY;\n    // Check vertical visibility\n    if (rect.top - padding < 0) {\n        // The div is above the viewport\n        y= window.scrollY + rect.top - padding;\n    } else if (rect.bottom + padding > windowHeight) {\n        // The div is below the viewport\n        y= window.scrollY + rect.bottom + padding - windowHeight;\n    }\n    // Check horizontal visibility\n    if (rect.left - padding < 0) {\n        // The div is to the left of the viewport\n        x = window.scrollX + rect.left - padding;\n    } else if (rect.right + padding > windowWidth) {\n        // The div is to the right of the viewport\n        x = window.scrollX + rect.right + padding - windowWidth;\n    }\n    // Perform the scroll if needed\n    if (x != window.scrollX || y != window.scrollY) {\n        window.scrollTo(x, y);\n    }\n    return [x, y];\n}",
                    "language": "ts",
                    "iLine": 37,
                    "jLine": 64
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 99,
                    "jChar": 103
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 324,
                    "jChar": 328
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 454,
                    "jChar": 461
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 650,
                    "jChar": 655
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 792,
                    "jChar": 798
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollTo"
                    ],
                    "iChar": 1053,
                    "jChar": 1061
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 11807,
                    "jChar": 11819
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 249,
                    "jChar": 261
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_scrollTo",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "scrollTo",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "export function scrollTo(x: number | undefined, y: number | undefined) {\n    let scrollOptions: ScrollToOptions = {\n        behavior: 'smooth'\n    };\n    scrollOptions.left = x;\n    scrollOptions.top = y;\n    window.scrollTo(scrollOptions);\n}",
                    "language": "ts",
                    "iLine": 66,
                    "jLine": 73
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 167,
                    "jChar": 172
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 195,
                    "jChar": 199
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6197,
                    "jChar": 6205
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 219,
                    "jChar": 227
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 1053,
                    "jChar": 1061
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_splitArray",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "splitArray",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "export function splitArray<T>(arr: T[], cond: (item: T) => boolean): [T[], T[]] {\n    const trueArray: T[] = [];\n    const falseArray: T[] = [];\n\n    arr.forEach(item => {\n        if (cond(item)) {\n            trueArray.push(item);\n        } else {\n            falseArray.push(item);\n        }\n    });\n\n    return [trueArray, falseArray];\n}",
                    "language": "ts",
                    "iLine": 75,
                    "jLine": 88
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_debounce",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "debounce",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// Debounce function\nexport function debounce<T extends (...args: any[]) => void>(func: T, wait: number): (...args: Parameters<T>) => void {\n    let timeout: number | undefined;\n    return function (this: ThisParameterType<T>, ...args: Parameters<T>) {\n        clearTimeout(timeout);\n  \n        timeout = setTimeout(() => {\n            func.apply(this, args);\n        }, wait) as unknown as number;\n    };\n}",
                    "language": "ts",
                    "iLine": 90,
                    "jLine": 100
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_debouncedSaveAll"
                    ],
                    "iChar": 25,
                    "jChar": 33
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_getChildNodeIndex",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "getChildNodeIndex",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "export function getChildNodeIndex(element: Element): number {\n    return Array.from(element.parentElement!.children).indexOf(element);\n}",
                    "language": "ts",
                    "iLine": 102,
                    "jLine": 104
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_element"
                    ],
                    "iChar": 34,
                    "jChar": 41
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_children"
                    ],
                    "iChar": 106,
                    "jChar": 115
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 3602,
                    "jChar": 3619
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_computeLinkIndex"
                    ],
                    "iChar": 161,
                    "jChar": 178
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_function_remote",
            "language": "ts",
            "module": "util",
            "kind": "function",
            "name": "remote",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// sends a command request to the server, waits on the reply, returns dictionary object\nexport async function remote(endpointAndFunc: string, args: any) : Promise<any> {\n    if (!endpointAndFunc.startsWith(\"@\")) {\n        console.error(`endpoint '${endpointAndFunc}' must start with '@'`);\n    }\n    const parts = endpointAndFunc.split(\".\");\n    const endpoint = parts[0].slice(1);\n    const func = parts[1];\n    try {\n        const response = await fetch(`http://localhost:8000/${endpoint}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ func: func, args: args })\n        });\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        const obj= await response.json();\n        return obj;\n    } catch (error) {\n        console.error('Error:', error);\n    }\n    return [];\n}",
                    "language": "ts",
                    "iLine": 106,
                    "jLine": 129
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 776,
                    "jChar": 781
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 84,
                    "jChar": 90
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_save"
                    ],
                    "iChar": 57,
                    "jChar": 63
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_load"
                    ],
                    "iChar": 68,
                    "jChar": 74
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_util_property_Rect_left",
            "language": "ts",
            "module": "util",
            "kind": "property",
            "name": "left",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "left: number;",
                    "language": "ts",
                    "iLine": 9,
                    "jLine": 9
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6888,
                    "jChar": 6893
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2484,
                    "jChar": 2489
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1256,
                    "jChar": 1261
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 439,
                    "jChar": 444
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 358,
                    "jChar": 363
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 77,
                    "jChar": 82
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 199,
                    "jChar": 204
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 363,
                    "jChar": 368
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 213,
                    "jChar": 218
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 182,
                    "jChar": 187
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 193,
                    "jChar": 198
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 650,
                    "jChar": 655
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollTo"
                    ],
                    "iChar": 167,
                    "jChar": 172
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 80,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 43,
                    "jChar": 48
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_animateLogoToLeft"
                    ],
                    "iChar": 959,
                    "jChar": 964
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_property_Rect_top",
            "language": "ts",
            "module": "util",
            "kind": "property",
            "name": "top",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "top: number;",
                    "language": "ts",
                    "iLine": 10,
                    "jLine": 10
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6924,
                    "jChar": 6928
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2553,
                    "jChar": 2557
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1088,
                    "jChar": 1092
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 471,
                    "jChar": 475
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 425,
                    "jChar": 429
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 595,
                    "jChar": 599
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 163,
                    "jChar": 167
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_setPos"
                    ],
                    "iChar": 142,
                    "jChar": 146
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 244,
                    "jChar": 248
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 207,
                    "jChar": 211
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 256,
                    "jChar": 260
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 200,
                    "jChar": 204
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 218,
                    "jChar": 222
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 324,
                    "jChar": 328
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollTo"
                    ],
                    "iChar": 195,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 98,
                    "jChar": 102
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 45,
                    "jChar": 49
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_animateLogoToLeft"
                    ],
                    "iChar": 298,
                    "jChar": 302
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_property_Rect_right",
            "language": "ts",
            "module": "util",
            "kind": "property",
            "name": "right",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "right: number;",
                    "language": "ts",
                    "iLine": 11,
                    "jLine": 11
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 8773,
                    "jChar": 8779
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1047,
                    "jChar": 1053
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_xMax"
                    ],
                    "iChar": 143,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 489,
                    "jChar": 495
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 170,
                    "jChar": 176
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 296,
                    "jChar": 302
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 216,
                    "jChar": 222
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 262,
                    "jChar": 268
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 792,
                    "jChar": 798
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 114,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_width"
                    ],
                    "iChar": 30,
                    "jChar": 36
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_property_Rect_bottom",
            "language": "ts",
            "module": "util",
            "kind": "property",
            "name": "bottom",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "bottom: number;",
                    "language": "ts",
                    "iLine": 12,
                    "jLine": 12
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6936,
                    "jChar": 6943
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 3977,
                    "jChar": 3984
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 1103,
                    "jChar": 1110
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 483,
                    "jChar": 490
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 559,
                    "jChar": 566
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 612,
                    "jChar": 619
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_checkGroups"
                    ],
                    "iChar": 115,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 131,
                    "jChar": 138
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 222,
                    "jChar": 229
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_updatePath"
                    ],
                    "iChar": 338,
                    "jChar": 345
                },
                {
                    "targets": [
                        "ts_firefly_util_class_Rect"
                    ],
                    "iChar": 236,
                    "jChar": 243
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 288,
                    "jChar": 295
                },
                {
                    "targets": [
                        "ts_firefly_util_function_scrollToView"
                    ],
                    "iChar": 454,
                    "jChar": 461
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_constructor"
                    ],
                    "iChar": 134,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_util_method_Rect_height"
                    ],
                    "iChar": 31,
                    "jChar": 38
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_method_Rect_constructor",
            "language": "ts",
            "module": "util",
            "kind": "method",
            "name": "constructor",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "constructor(left: number, top: number, right: number, bottom: number) {\n    this.left = left; this.top = top; this.right = right; this.bottom = bottom; \n}",
                    "language": "ts",
                    "iLine": 13,
                    "jLine": 15
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 80,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 98,
                    "jChar": 102
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 114,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 134,
                    "jChar": 141
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 1156,
                    "jChar": 1161
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2684,
                    "jChar": 2689
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Arrow"
                    ],
                    "iChar": 115,
                    "jChar": 120
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 46,
                    "jChar": 51
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 67,
                    "jChar": 72
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_Arrow_drawRect"
                    ],
                    "iChar": 21,
                    "jChar": 26
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Arrow_initDrawRect"
                    ],
                    "iChar": 514,
                    "jChar": 519
                },
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 187,
                    "jChar": 192
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_method_Rect_width",
            "language": "ts",
            "module": "util",
            "kind": "method",
            "name": "width",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "width() : number { return this.right - this.left; }",
                    "language": "ts",
                    "iLine": 16,
                    "jLine": 16
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_right"
                    ],
                    "iChar": 30,
                    "jChar": 36
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 43,
                    "jChar": 48
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3013,
                    "jChar": 3019
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2073,
                    "jChar": 2079
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 213,
                    "jChar": 219
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_arrangeAll"
                    ],
                    "iChar": 569,
                    "jChar": 575
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1225,
                    "jChar": 1231
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 193,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 811,
                    "jChar": 817
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 116,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 42,
                    "jChar": 48
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 279,
                    "jChar": 285
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 283,
                    "jChar": 289
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getBodyWidth"
                    ],
                    "iChar": 131,
                    "jChar": 137
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_method_Rect_height",
            "language": "ts",
            "module": "util",
            "kind": "method",
            "name": "height",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "height() : number { return this.bottom - this.top; }",
                    "language": "ts",
                    "iLine": 17,
                    "jLine": 17
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_bottom"
                    ],
                    "iChar": 31,
                    "jChar": 38
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 45,
                    "jChar": 49
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 3063,
                    "jChar": 3070
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_Node"
                    ],
                    "iChar": 2103,
                    "jChar": 2110
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_disappear"
                    ],
                    "iChar": 259,
                    "jChar": 266
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 503,
                    "jChar": 510
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1272,
                    "jChar": 1279
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_spaceNodesInGroup"
                    ],
                    "iChar": 329,
                    "jChar": 336
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_initArrows"
                    ],
                    "iChar": 223,
                    "jChar": 230
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_constructor"
                    ],
                    "iChar": 841,
                    "jChar": 848
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_targetRect"
                    ],
                    "iChar": 142,
                    "jChar": 149
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_sizeChanged"
                    ],
                    "iChar": 92,
                    "jChar": 99
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_update"
                    ],
                    "iChar": 314,
                    "jChar": 321
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_updateShadow"
                    ],
                    "iChar": 332,
                    "jChar": 339
                }
            ],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_util_property_Rect_}",
            "language": "ts",
            "module": "util",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 18,
                    "jLine": 18
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_util_class_Rect"
        },
        {
            "uid": "ts_firefly_db_global_dbInstance",
            "language": "ts",
            "module": "db",
            "kind": "global",
            "name": "dbInstance",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "let dbInstance : any;",
                    "language": "ts",
                    "iLine": 2,
                    "jLine": 2
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_db_function_openDB"
                    ],
                    "iChar": 61,
                    "jChar": 71
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_db_global_dirHandle",
            "language": "ts",
            "module": "db",
            "kind": "global",
            "name": "dirHandle",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "let dirHandle : any = null;",
                    "language": "ts",
                    "iLine": 3,
                    "jLine": 3
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_db_function_storeHandle"
                    ],
                    "iChar": 711,
                    "jChar": 720
                },
                {
                    "targets": [
                        "ts_firefly_db_function_getStoredHandle"
                    ],
                    "iChar": 513,
                    "jChar": 522
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 577,
                    "jChar": 586
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFile"
                    ],
                    "iChar": 245,
                    "jChar": 254
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_db_function_openDB",
            "language": "ts",
            "module": "db",
            "kind": "function",
            "name": "openDB",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function openDB() {\n    console.log(\"openDB\");\n    if (dbInstance) {\n        console.log(\"already have a db instance\");\n        return dbInstance;\n    }\n    console.log(\"creating db instance\");\n    return new Promise((resolve, reject) => {\n        const request = indexedDB.open('myDatabase', 1);  // 'myDatabase' is the name of your database.\n\n        // This event is only triggered once when the database is first created or when \n        // the version number is changed (like from 1 to 2).\n        request.onupgradeneeded = function(event: any) {\n            console.log(\"onupgradeneeded\");\n            const db = event.target.result;\n            \n            // Create an object store named 'fileHandles' if it doesn't exist.\n            if (!db.objectStoreNames.contains('fileHandles')) {\n                db.createObjectStore('fileHandles');\n            }\n        };\n\n        request.onsuccess = function(event: any) {\n            console.log(\"onsuccess\");\n            dbInstance = event.target.result;\n            resolve(dbInstance);\n        };\n\n        request.onerror = function(event: any) {\n            console.error(\"Error opening database:\", event.target.errorCode);\n            reject(event.target.errorCode);\n        };\n    });\n}",
                    "language": "ts",
                    "iLine": 5,
                    "jLine": 38
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_db_global_dbInstance"
                    ],
                    "iChar": 61,
                    "jChar": 71
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 279,
                    "jChar": 284
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_db_function_storeHandle",
            "language": "ts",
            "module": "db",
            "kind": "function",
            "name": "storeHandle",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// Store Directory Handle in IndexedDB\nasync function storeHandle(): Promise<void> {\n    return new Promise((resolve, reject) => {\n        const openRequest = indexedDB.open('myDatabase', 1);\n\n        openRequest.onupgradeneeded = (event: any) => {\n            const db = event.target.result;\n            if (!db.objectStoreNames.contains('fileHandles')) {\n                db.createObjectStore('fileHandles');\n            }\n        };\n\n        openRequest.onsuccess = () => {\n            const db = openRequest.result;\n            const transaction = db.transaction('fileHandles', 'readwrite');\n            const objectStore = transaction.objectStore('fileHandles');\n            const request = objectStore.put(dirHandle, 'dirHandle');\n\n            request.onsuccess = () => {\n                resolve();\n            };\n\n            request.onerror = () => {\n                reject(new Error('Error storing dirHandle to IndexedDB'));\n            };\n        };\n\n        openRequest.onerror = () => {\n            reject(new Error('Error opening database'));\n        };\n    });\n}",
                    "language": "ts",
                    "iLine": 42,
                    "jLine": 73
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 168,
                    "jChar": 173
                },
                {
                    "targets": [
                        "ts_firefly_db_global_dirHandle",
                        "ts_firefly_firefly_global_dirHandle"
                    ],
                    "iChar": 711,
                    "jChar": 720
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_db_function_getStoredHandle",
            "language": "ts",
            "module": "db",
            "kind": "function",
            "name": "getStoredHandle",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// Retrieve Directory Handle from IndexedDB\nasync function getStoredHandle() : Promise<any> {\n    console.log(\"getStoredHandle\");\n    return new Promise((resolve, reject) => {\n        const openRequest = indexedDB.open('myDatabase', 1);\n\n        openRequest.onsuccess = () => {\n            const db = openRequest.result;\n            const transaction = db.transaction('fileHandles', 'readonly');\n            const objectStore = transaction.objectStore('fileHandles');\n            const request = objectStore.get('dirHandle');\n\n            request.onsuccess = () => {\n                if (request.result) {\n                    resolve(request.result);\n                } else {\n                    resolve(null);  // or resolve(undefined);\n                }\n            };\n\n            request.onerror = () => {\n                //reject(new Error('Error retrieving dirHandle from IndexedDB'));\n                resolve(null);\n            };\n        };\n\n        openRequest.onerror = () => {\n            reject(new Error('Error opening database'));\n        };\n    });\n}",
                    "language": "ts",
                    "iLine": 75,
                    "jLine": 105
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_open"
                    ],
                    "iChar": 213,
                    "jChar": 218
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_get"
                    ],
                    "iChar": 507,
                    "jChar": 511
                },
                {
                    "targets": [
                        "ts_firefly_db_global_dirHandle",
                        "ts_firefly_firefly_global_dirHandle"
                    ],
                    "iChar": 513,
                    "jChar": 522
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_global_s_useLocalFiles",
            "language": "ts",
            "module": "firefly",
            "kind": "global",
            "name": "s_useLocalFiles",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "const s_useLocalFiles = false;              // change this to true to enable local file access",
                    "language": "ts",
                    "iLine": 14,
                    "jLine": 14
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 67,
                    "jChar": 82
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_global_dirHandle",
            "language": "ts",
            "module": "firefly",
            "kind": "global",
            "name": "dirHandle",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "let dirHandle: any | null = null;",
                    "language": "ts",
                    "iLine": 15,
                    "jLine": 15
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_db_function_storeHandle"
                    ],
                    "iChar": 711,
                    "jChar": 720
                },
                {
                    "targets": [
                        "ts_firefly_db_function_getStoredHandle"
                    ],
                    "iChar": 513,
                    "jChar": 522
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 577,
                    "jChar": 586
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFile"
                    ],
                    "iChar": 245,
                    "jChar": 254
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_global_s_allCards",
            "language": "ts",
            "module": "firefly",
            "kind": "global",
            "name": "s_allCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "var s_allCards: Card[];",
                    "language": "ts",
                    "iLine": 16,
                    "jLine": 16
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 16,
                    "jChar": 20
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 198,
                    "jChar": 208
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_findCard"
                    ],
                    "iChar": 126,
                    "jChar": 136
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_global_s_graphView",
            "language": "ts",
            "module": "firefly",
            "kind": "global",
            "name": "s_graphView",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "var s_graphView : GraphView;",
                    "language": "ts",
                    "iLine": 17,
                    "jLine": 17
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 18,
                    "jChar": 27
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 110,
                    "jChar": 121
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_eventLoop"
                    ],
                    "iChar": 27,
                    "jChar": 38
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 239,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 98,
                    "jChar": 109
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 93,
                    "jChar": 104
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_saveAll"
                    ],
                    "iChar": 74,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 208,
                    "jChar": 219
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 263,
                    "jChar": 274
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_closeCard"
                    ],
                    "iChar": 77,
                    "jChar": 88
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_class_CodeBlock",
            "language": "ts",
            "module": "firefly",
            "kind": "class",
            "name": "CodeBlock",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class CodeBlock {\n    text: string = \"\";                  // actual code text\n    language: string;                   // \".ts\", \".py\", \".cpp\", \".hpp\", etc.\n    iLine: number = 0;                  // 1-based line index in original code file\n    constructor(code: string, language: string, iLine: number) {\n        this.text = code; this.language = language; this.iLine = iLine;\n    }\n}",
                    "language": "ts",
                    "iLine": 19,
                    "jLine": 26
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_text"
                    ],
                    "iChar": 317,
                    "jChar": 322
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_language",
                        "ts_firefly_firefly_property_Card_language"
                    ],
                    "iChar": 335,
                    "jChar": 344
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_iLine"
                    ],
                    "iChar": 361,
                    "jChar": 367
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 658,
                    "jChar": 667
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_code"
                    ],
                    "iChar": 6,
                    "jChar": 15
                }
            ],
            "children": [
                "ts_firefly_firefly_property_CodeBlock_text",
                "ts_firefly_firefly_property_CodeBlock_language",
                "ts_firefly_firefly_property_CodeBlock_iLine",
                "ts_firefly_firefly_method_CodeBlock_constructor",
                "ts_firefly_firefly_property_CodeBlock_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_class_Dependency",
            "language": "ts",
            "module": "firefly",
            "kind": "class",
            "name": "Dependency",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Dependency {\n    iChar: number = 0;                  // character index in code of start of symbol\n    jChar: number = 0;                  // character index in code after symbol\n    targets: string[] = [];             // card uids we link to\n};",
                    "language": "ts",
                    "iLine": 28,
                    "jLine": 32
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 733,
                    "jChar": 743
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_dependsOn"
                    ],
                    "iChar": 11,
                    "jChar": 21
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_dependents"
                    ],
                    "iChar": 12,
                    "jChar": 22
                }
            ],
            "children": [
                "ts_firefly_firefly_property_Dependency_iChar",
                "ts_firefly_firefly_property_Dependency_jChar",
                "ts_firefly_firefly_property_Dependency_targets",
                "ts_firefly_firefly_property_Dependency_};"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_class_Card",
            "language": "ts",
            "module": "firefly",
            "kind": "class",
            "name": "Card",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Card {\n    uid: string = \"\";                   // uid; something like lang_module_kind_name, but maybe other decorators too\n    language: string = \"\";              // language shortname of original code\n    module: string = \"\";                // module: eg. firefly or graphview\n    kind: string = \"\";                  // \"class\" or \"function\" or \"other\"\n    name: string = \"\";                  // name of function or class being defined\n    purpose: string = \"\";               // purpose\n    examples: string = \"\";              // examples\n    inputs: string = \"\";                // inputs\n    outputs: string = \"\";               // outputs\n    code: CodeBlock[] = [];             // actual text from code file\n    dependsOn: Dependency[] = [];       // cards we depend on\n    dependents: Dependency[] =[];       // cards that depend on us\n    children: Card[] =[];               // if we're a class, cards for methods\n    parent: string = \"\";                // if we're a method or property, points to parent\n    rankFromBottom: number = 0;         // 1 means depends on nothing; x means depends on things with rank < x\n    rankFromTop: number = 0;            // 1 means nothing calls this; x means called by things with rank < x\n\n}",
                    "language": "ts",
                    "iLine": 34,
                    "jLine": 52
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CodeBlock"
                    ],
                    "iChar": 658,
                    "jChar": 667
                },
                {
                    "targets": [
                        "ts_firefly_firefly_class_Dependency"
                    ],
                    "iChar": 733,
                    "jChar": 743
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_allCards"
                    ],
                    "iChar": 16,
                    "jChar": 20
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 228,
                    "jChar": 232
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_findCard"
                    ],
                    "iChar": 96,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 134,
                    "jChar": 138
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_shortName"
                    ],
                    "iChar": 25,
                    "jChar": 29
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 137,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_children"
                    ],
                    "iChar": 10,
                    "jChar": 14
                }
            ],
            "children": [
                "ts_firefly_firefly_property_Card_uid",
                "ts_firefly_firefly_property_Card_language",
                "ts_firefly_firefly_property_Card_module",
                "ts_firefly_firefly_property_Card_kind",
                "ts_firefly_firefly_class_Card_being",
                "ts_firefly_firefly_property_Card_purpose",
                "ts_firefly_firefly_property_Card_examples",
                "ts_firefly_firefly_property_Card_inputs",
                "ts_firefly_firefly_property_Card_outputs",
                "ts_firefly_firefly_property_Card_code",
                "ts_firefly_firefly_property_Card_dependsOn",
                "ts_firefly_firefly_property_Card_dependents",
                "ts_firefly_firefly_property_Card_children",
                "ts_firefly_firefly_property_Card_parent",
                "ts_firefly_firefly_property_Card_rankFromBottom",
                "ts_firefly_firefly_property_Card_rankFromTop",
                "ts_firefly_firefly_property_Card_",
                "ts_firefly_firefly_property_Card_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_class_CardView",
            "language": "ts",
            "module": "firefly",
            "kind": "class",
            "name": "CardView",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class CardView {\n    state: CardViewState = CardViewState.Compact;\n    xScroll: number =0;\n    yScroll: number =0;\n    constructor(state: CardViewState) {\n        this.state = state;\n    }\n}",
                    "language": "ts",
                    "iLine": 61,
                    "jLine": 68
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_property_CardView_state"
                    ],
                    "iChar": 167,
                    "jChar": 173
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 93,
                    "jChar": 101
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 404,
                    "jChar": 412
                }
            ],
            "children": [
                "ts_firefly_firefly_property_CardView_state",
                "ts_firefly_firefly_property_CardView_xScroll",
                "ts_firefly_firefly_property_CardView_yScroll",
                "ts_firefly_firefly_method_CardView_constructor",
                "ts_firefly_firefly_property_CardView_}"
            ],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_main",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "main",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function main() {\n    console.log(\"firefly \u1566(\u30c4)\u1564\");\n    await setupEvents();\n}",
                    "language": "ts",
                    "iLine": 70,
                    "jLine": 73
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 68,
                    "jChar": 79
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_setupEvents",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "setupEvents",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function setupEvents() {\n    const container = document.getElementById('container') as HTMLElement;\n    s_graphView = new GraphView(container, cardToHTML, highlightLink);\n    await loadCards();\n    await animateLogoToLeft();\n    await openMain();\n    eventLoop();\n}",
                    "language": "ts",
                    "iLine": 75,
                    "jLine": 82
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 110,
                    "jChar": 121
                },
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView",
                        "ts_firefly_graphview_method_GraphView_constructor"
                    ],
                    "iChar": 128,
                    "jChar": 138
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 149,
                    "jChar": 159
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_highlightLink"
                    ],
                    "iChar": 161,
                    "jChar": 174
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 187,
                    "jChar": 196
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_animateLogoToLeft"
                    ],
                    "iChar": 210,
                    "jChar": 227
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 241,
                    "jChar": 249
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_eventLoop"
                    ],
                    "iChar": 257,
                    "jChar": 266
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_main"
                    ],
                    "iChar": 68,
                    "jChar": 79
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_eventLoop",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "eventLoop",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function eventLoop() {\n    s_graphView.update();\n    requestAnimationFrame(eventLoop);\n}",
                    "language": "ts",
                    "iLine": 84,
                    "jLine": 87
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 27,
                    "jChar": 38
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_update",
                        "ts_firefly_graphview_method_Node_update",
                        "ts_firefly_graphview_method_Arrow_update"
                    ],
                    "iChar": 38,
                    "jChar": 45
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 257,
                    "jChar": 266
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_loadCards",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "loadCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function loadCards() {\n    console.log(\"loadCards\");\n    if (s_useLocalFiles) {\n        await importLocalFolder();\n    } \n    const jsonObj = await importFolders(\"firefly\", [\"ts\", \"py\"]);\n    s_allCards = jsonObj.cards as Card[];\n    console.log(\"nCards:\", s_allCards.length);\n    let uids: string[] = [];\n    for(const card of s_allCards) {\n        uids.push(card.uid);\n    }\n    //console.log(uids);\n}",
                    "language": "ts",
                    "iLine": 89,
                    "jLine": 102
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_useLocalFiles"
                    ],
                    "iChar": 67,
                    "jChar": 82
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 100,
                    "jChar": 117
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 154,
                    "jChar": 167
                },
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_allCards"
                    ],
                    "iChar": 198,
                    "jChar": 208
                },
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 228,
                    "jChar": 232
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_uid"
                    ],
                    "iChar": 370,
                    "jChar": 374
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 187,
                    "jChar": 196
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_openMain",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "openMain",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function openMain() {\n    let json = await load(\"session/test.json\");\n    if (json.error) {\n        console.log(\"failed to load session:\", json.error);\n        openCard(\"ts_firefly_firefly_function_main\", null);\n    } else {\n        s_graphView.openJson(json);\n    }\n}",
                    "language": "ts",
                    "iLine": 104,
                    "jLine": 112
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_load"
                    ],
                    "iChar": 49,
                    "jChar": 53
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 67,
                    "jChar": 72
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 166,
                    "jChar": 174
                },
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 239,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 250,
                    "jChar": 259
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 241,
                    "jChar": 249
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_importLocalFolder",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "importLocalFolder",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function importLocalFolder() {\n    let logo: HTMLButtonElement = document.getElementById('logo_and_shadow') as HTMLButtonElement;\n    let button = element(`<button id=\"openDirectory\" class=\"transparent-button\" style=\"display: inline-block;\">\n                            <h3 style=\"display: inline-block;\">\u25b6\ufe0e</h3></button>`);\n    logo.insertBefore(button, logo.children[1]);\n    button.addEventListener('click', async () => {\n        if (!(window as any).showDirectoryPicker) {\n            console.log(\"showDirectoryPicker is null\");\n            return;\n        }\n        dirHandle = await (window as any).showDirectoryPicker!();\n        button.remove();\n        await importLocalFile();\n    });\n}",
                    "language": "ts",
                    "iLine": 114,
                    "jLine": 128
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_element"
                    ],
                    "iChar": 153,
                    "jChar": 160
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_children"
                    ],
                    "iChar": 365,
                    "jChar": 374
                },
                {
                    "targets": [
                        "ts_firefly_db_global_dirHandle",
                        "ts_firefly_firefly_global_dirHandle"
                    ],
                    "iChar": 577,
                    "jChar": 586
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 649,
                    "jChar": 656
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFile"
                    ],
                    "iChar": 674,
                    "jChar": 689
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 100,
                    "jChar": 117
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_importLocalFile",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "importLocalFile",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// test-reads the first file and sets text in browser\nasync function importLocalFile() {\n    console.log(\"importLocalFile\");\n    // Assuming we are just reading the first file we find.\n    console.log(\"values...\");\n    for await (const entry of dirHandle.values()) {\n        if (entry.kind === 'file') {\n            console.log(\"getFile...\");\n            const file = await (entry as any).getFile();\n            const filename : string = file.name; // Assuming 'file' has a 'name' property with the filename.\n            if (filename.startsWith(\".\")) continue;\n            const parts = filename.split('.');\n            const ext = parts.length > 1 ? '.' + parts.pop() : '';\n            console.log(\"readFileAsText...\");\n            console.log(`ext = '${ext}'`);\n            const fullText = await readFileAsText(file);\n            console.log(\"NOT IMPLEMENTED YET\"); // todo: implement by reading files, horking them over to the server, then following the normal channels\n            break;\n        }\n    }\n}",
                    "language": "ts",
                    "iLine": 130,
                    "jLine": 150
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_db_global_dirHandle",
                        "ts_firefly_firefly_global_dirHandle"
                    ],
                    "iChar": 245,
                    "jChar": 254
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_kind"
                    ],
                    "iChar": 284,
                    "jChar": 289
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_readFileAsText"
                    ],
                    "iChar": 700,
                    "jChar": 714
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 674,
                    "jChar": 689
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_readFileAsText",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "readFileAsText",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// Read file on client machine in folder\nfunction readFileAsText(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = event => resolve(event.target!.result as string);\n        reader.onerror = error => reject(error);\n        reader.readAsText(file);\n    });\n}",
                    "language": "ts",
                    "iLine": 152,
                    "jLine": 160
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFile"
                    ],
                    "iChar": 700,
                    "jChar": 714
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_animateLogoToLeft",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "animateLogoToLeft",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// move the logo and shadow to the left of the window\nasync function animateLogoToLeft(): Promise<void> {\n    return new Promise((resolve, reject) => {\n        const logoAndShadow = document.getElementById(\"logo_and_shadow\")!;\n        console.log(\"diff=\", (window.innerHeight/2)-rect(logoAndShadow).top);\n\n        // Set animation properties\n        logoAndShadow.style.animationName = \"moveToLeft\";\n        logoAndShadow.style.animationDuration = \"0.25s\";\n        logoAndShadow.style.animationTimingFunction = \"ease-in-out\";\n        logoAndShadow.style.animationFillMode = \"forwards\"; \n\n        // Attach the animationend event listener\n        logoAndShadow.addEventListener('animationend', function onAnimationEnd() {\n            // Remove the event listener to prevent memory leaks\n            logoAndShadow.removeEventListener('animationend', onAnimationEnd);\n            resolve();\n        });\n\n        // Start the animation\n        logoAndShadow.style.left = \"0\";\n    });\n}",
                    "language": "ts",
                    "iLine": 162,
                    "jLine": 184
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_rect"
                    ],
                    "iChar": 279,
                    "jChar": 283
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_top"
                    ],
                    "iChar": 298,
                    "jChar": 302
                },
                {
                    "targets": [
                        "ts_firefly_util_property_Rect_left"
                    ],
                    "iChar": 959,
                    "jChar": 964
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 210,
                    "jChar": 227
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_importFolders",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "importFolders",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function importFolders(project: string, folders: string[]) {\n    return await remote(\"@firefly.importFolders\", { project: project, folders: folders });\n}",
                    "language": "ts",
                    "iLine": 186,
                    "jLine": 188
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_remote"
                    ],
                    "iChar": 84,
                    "jChar": 90
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 92,
                    "jChar": 114
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 154,
                    "jChar": 167
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_findCard",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "findCard",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// finds the card with the given UID, or null if doesn't exist\nfunction findCard(uid: string) : Card | null {\n    let index = s_allCards.findIndex((card : any ) => card.uid === uid);\n    if (index < 0) return null;\n    return s_allCards[index];\n}",
                    "language": "ts",
                    "iLine": 190,
                    "jLine": 195
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 96,
                    "jChar": 100
                },
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_allCards"
                    ],
                    "iChar": 126,
                    "jChar": 136
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_uid"
                    ],
                    "iChar": 168,
                    "jChar": 172
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 148,
                    "jChar": 156
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_shortName"
                    ],
                    "iChar": 114,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 151,
                    "jChar": 159
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_cardToHTML",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "cardToHTML",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// generates HTML for card, but doesn't connect it yet\nfunction cardToHTML(id: string, view: CardView) : HTMLElement {\n    let card : Card | null = findCard(id);\n    if (!card) { return element(`<div></div>`); }\n    let style = \"code\"; if (view.state == CardViewState.Fullsize) { style += \" code-expanded\"; }\n    let elem : HTMLElement = element(`<div id=\"code_${card.uid}\" class=\"${style}\" spellcheck=\"false\" contenteditable=\"false\"></div>`);\n    let text : string = card.code[0].text;\n    if (card.dependsOn.length==0) {\n        elem.innerText = text;\n    } else {\n        let iChar : number = 0;\n        for(const dep of card.dependsOn) {\n            // add text-node going from (iChar) to (dep.iChar)\n            if (dep.iChar > iChar) {\n                elem.appendChild(document.createTextNode(text.slice(iChar, dep.iChar)));\n            }\n            // add span containing the link\n            const link = text.slice(dep.iChar, dep.jChar);\n            let linkId = \"linkto_\" + dep.targets[0];\n            for(let i = 1; i < dep.targets.length; i++) {\n                linkId += \"__\" + dep.targets[i];\n            }\n            const child = element(`<span class=\"tag\" id=\"${linkId}\">${link}</span>`);\n            listen(child, 'click', async function(event: any) {\n                onLinkButtonPress(child);\n            });\n            elem.appendChild(child);\n            // step\n            iChar = dep.jChar;\n        }\n        // add text-node for the remaining bit of text\n        if (iChar < text.length) {\n            elem.appendChild(document.createTextNode(text.slice(iChar, text.length)));\n        }\n    }\n    setTimeout(() => { elem.scrollLeft = view.xScroll; elem.scrollTop = view.yScroll;}, 0);\n    listen(elem, 'click', function() { expandOrContract(elem); });\n    listen(elem, 'scroll', function(event: any) { getScrollPos(elem); });\n    let container = codeContainer(elem, shortName(card));\n    container.id = card.uid;\n    return container;\n}",
                    "language": "ts",
                    "iLine": 197,
                    "jLine": 238
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CardView"
                    ],
                    "iChar": 93,
                    "jChar": 101
                },
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 134,
                    "jChar": 138
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_findCard"
                    ],
                    "iChar": 148,
                    "jChar": 156
                },
                {
                    "targets": [
                        "ts_firefly_util_function_element"
                    ],
                    "iChar": 186,
                    "jChar": 193
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CardView_state"
                    ],
                    "iChar": 244,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_uid"
                    ],
                    "iChar": 367,
                    "jChar": 371
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_code"
                    ],
                    "iChar": 472,
                    "jChar": 477
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_text"
                    ],
                    "iChar": 480,
                    "jChar": 485
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_dependsOn"
                    ],
                    "iChar": 499,
                    "jChar": 509
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Dependency_jChar"
                    ],
                    "iChar": 939,
                    "jChar": 945
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Dependency_targets"
                    ],
                    "iChar": 988,
                    "jChar": 996
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_listen"
                    ],
                    "iChar": 1220,
                    "jChar": 1226
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_onLinkButtonPress"
                    ],
                    "iChar": 1288,
                    "jChar": 1305
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 1666,
                    "jChar": 1674
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 1697,
                    "jChar": 1705
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 1752,
                    "jChar": 1768
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 1830,
                    "jChar": 1842
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_codeContainer"
                    ],
                    "iChar": 1874,
                    "jChar": 1887
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_shortName"
                    ],
                    "iChar": 1894,
                    "jChar": 1903
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 149,
                    "jChar": 159
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_codeContainer",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "codeContainer",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function codeContainer(codeDiv: HTMLElement, title: string) : HTMLElement {\n    const containerDiv = document.createElement('div');\n    containerDiv.className = 'code-container';\n\n    // Create the title div\n    const titleDiv = document.createElement('div');\n    titleDiv.className = 'code-title';\n    titleDiv.textContent = title;\n\n    // Append the title and the code div to the container\n    containerDiv.appendChild(titleDiv);\n    containerDiv.appendChild(codeDiv);\n\n    return containerDiv;\n}",
                    "language": "ts",
                    "iLine": 240,
                    "jLine": 254
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1874,
                    "jChar": 1887
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_shortName",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "shortName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function shortName(card: Card) : string {\n    let result: string = \"\";\n    if (card.parent != \"null\") { result += findCard(card.parent)!.name + \".\"; }\n    result += card.name;\n    if (card.kind==\"method\" || card.kind==\"function\") result += \"()\";\n    return result;\n}",
                    "language": "ts",
                    "iLine": 256,
                    "jLine": 262
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 25,
                    "jChar": 29
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_parent"
                    ],
                    "iChar": 83,
                    "jChar": 90
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_findCard"
                    ],
                    "iChar": 114,
                    "jChar": 122
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_Card_kind"
                    ],
                    "iChar": 188,
                    "jChar": 193
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1894,
                    "jChar": 1903
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_highlightLink",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "highlightLink",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function highlightLink(linkDiv: HTMLElement, highlight: boolean) {\n    if (highlight) linkDiv.className = \"tag-highlight\"; else linkDiv.className = \"tag\";\n}",
                    "language": "ts",
                    "iLine": 264,
                    "jLine": 266
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_setupEvents"
                    ],
                    "iChar": 161,
                    "jChar": 174
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 464,
                    "jChar": 477
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_closeCard"
                    ],
                    "iChar": 134,
                    "jChar": 147
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_listen",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "listen",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function listen(elem: HTMLElement, type: string, func: Function) {\n    elem.addEventListener(type, async (event) => {\n        //console.log(`${type}: ${elem.id}`);\n        await func(event);  // Assuming func is synchronous. If it's async, use await func(event);\n        event.stopPropagation();\n        debouncedSaveAll();\n    });\n}",
                    "language": "ts",
                    "iLine": 268,
                    "jLine": 275
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_debouncedSaveAll"
                    ],
                    "iChar": 304,
                    "jChar": 320
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1220,
                    "jChar": 1226
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_expandOrContract",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "expandOrContract",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function expandOrContract(elem : HTMLElement) {\n    let div = elem.parentElement!;\n    let view = s_graphView.userObj(div);\n    if (view.state == CardViewState.Compact) {\n        elem.classList.add(\"code-expanded\");\n        view.state = CardViewState.Fullsize;\n\n    } else if (view.state == CardViewState.Fullsize) {\n         elem.classList.remove(\"code-expanded\");\n         view.state = CardViewState.Compact;\n         elem.scrollLeft = view.xScroll;\n         elem.scrollTop = view.yScroll;\n    }\n    s_graphView.emphasize(div, elem.classList.contains(\"code-expanded\"));\n    s_graphView.attention(div);\n}",
                    "language": "ts",
                    "iLine": 277,
                    "jLine": 292
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 98,
                    "jChar": 109
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 109,
                    "jChar": 117
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CardView_state"
                    ],
                    "iChar": 136,
                    "jChar": 142
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_add"
                    ],
                    "iChar": 193,
                    "jChar": 197
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_Node_remove"
                    ],
                    "iChar": 340,
                    "jChar": 347
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 442,
                    "jChar": 450
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 482,
                    "jChar": 490
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_emphasize",
                        "ts_firefly_graphview_property_Node_emphasize"
                    ],
                    "iChar": 513,
                    "jChar": 523
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_attention"
                    ],
                    "iChar": 587,
                    "jChar": 597
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1752,
                    "jChar": 1768
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_getScrollPos",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "getScrollPos",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "function getScrollPos(elem: HTMLElement) {\n    let div = elem.parentElement!;\n    let view = s_graphView.userObj(div);\n    if (view.state == CardViewState.Compact) {\n        view.xScroll = div.scrollLeft;\n        view.yScroll = div.scrollTop;\n    }\n}",
                    "language": "ts",
                    "iLine": 294,
                    "jLine": 301
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 93,
                    "jChar": 104
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_userObj",
                        "ts_firefly_graphview_property_Node_userObj"
                    ],
                    "iChar": 104,
                    "jChar": 112
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CardView_state"
                    ],
                    "iChar": 131,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_xScroll",
                        "ts_firefly_firefly_property_CardView_xScroll"
                    ],
                    "iChar": 178,
                    "jChar": 186
                },
                {
                    "targets": [
                        "ts_firefly_graphview_property_GraphView_yScroll",
                        "ts_firefly_firefly_property_CardView_yScroll"
                    ],
                    "iChar": 217,
                    "jChar": 225
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1830,
                    "jChar": 1842
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_global_debouncedSaveAll",
            "language": "ts",
            "module": "firefly",
            "kind": "global",
            "name": "debouncedSaveAll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "const debouncedSaveAll = debounce(() => { saveAll() }, 300);",
                    "language": "ts",
                    "iLine": 303,
                    "jLine": 303
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_debounce"
                    ],
                    "iChar": 25,
                    "jChar": 33
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_saveAll"
                    ],
                    "iChar": 42,
                    "jChar": 49
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_listen"
                    ],
                    "iChar": 304,
                    "jChar": 320
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_saveAll",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "saveAll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function saveAll() {\n    //console.log(\"saveAll\");\n    const json = s_graphView.json();\n    await save(json, \"sessions/test.json\");\n}",
                    "language": "ts",
                    "iLine": 305,
                    "jLine": 309
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 74,
                    "jChar": 85
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 85,
                    "jChar": 90
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_save"
                    ],
                    "iChar": 104,
                    "jChar": 108
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_debouncedSaveAll"
                    ],
                    "iChar": 42,
                    "jChar": 49
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_save",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "save",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function save(json: any, path: string) {\n    await remote(\"@firefly.save\", { path: \"sessions/test.json\", json: json });\n}",
                    "language": "ts",
                    "iLine": 311,
                    "jLine": 313
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_remote"
                    ],
                    "iChar": 57,
                    "jChar": 63
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_save"
                    ],
                    "iChar": 65,
                    "jChar": 78
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 103,
                    "jChar": 108
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_saveAll"
                    ],
                    "iChar": 104,
                    "jChar": 108
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_load",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "load",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "async function load(path: string) : Promise<any> {\n    return await remote(\"@firefly.load\", { path: \"sessions/test.json\"});\n}",
                    "language": "ts",
                    "iLine": 315,
                    "jLine": 317
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_util_function_remote"
                    ],
                    "iChar": 68,
                    "jChar": 74
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_load"
                    ],
                    "iChar": 76,
                    "jChar": 89
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json",
                        "ts_firefly_graphview_method_Node_json"
                    ],
                    "iChar": 114,
                    "jChar": 119
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 49,
                    "jChar": 53
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_onLinkButtonPress",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "onLinkButtonPress",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// link button pressed\nfunction onLinkButtonPress(button: HTMLElement) {\n    const id = button.id.slice(\"linkto_\".length);\n    const linkIDs = id.split(\"__\");\n    for(const linkID of linkIDs) {\n        openOrCloseCard(linkID, button);\n    }\n}",
                    "language": "ts",
                    "iLine": 319,
                    "jLine": 326
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 202,
                    "jChar": 217
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1288,
                    "jChar": 1305
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_openOrCloseCard",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "openOrCloseCard",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// if a card view is closed, opens it; otherwise closes it\nfunction openOrCloseCard(uid: string, button: HTMLElement) {\n    const card : Card | null = findCard(uid);\n    if (!card) return;\n    let existing = s_graphView.find(uid);\n    if (existing) {\n        closeCard(existing);\n    } else {\n        openCard(uid, button);\n    }\n}",
                    "language": "ts",
                    "iLine": 328,
                    "jLine": 338
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 137,
                    "jChar": 141
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_findCard"
                    ],
                    "iChar": 151,
                    "jChar": 159
                },
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 208,
                    "jChar": 219
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_find"
                    ],
                    "iChar": 219,
                    "jChar": 224
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_closeCard"
                    ],
                    "iChar": 259,
                    "jChar": 268
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 301,
                    "jChar": 309
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_onLinkButtonPress"
                    ],
                    "iChar": 202,
                    "jChar": 217
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_openCard",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "openCard",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// opens a card, optionally connected to a button element\nfunction openCard(uid: string, button: HTMLElement | null){\n    console.log(\"openCard\", uid);\n    let linkID = \"\";\n    let parentID = \"\";\n    if (button) {\n        linkID = button.id;\n        let parent = s_graphView.findDivContainingLink(button);\n        if (parent) parentID = parent.id;\n    }\n    s_graphView.reopen(uid, linkID, parentID, new CardView(CardViewState.Compact));\n    if (button) {\n        highlightLink(button, true);\n    }\n}",
                    "language": "ts",
                    "iLine": 340,
                    "jLine": 354
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 263,
                    "jChar": 274
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findDivContainingLink"
                    ],
                    "iChar": 274,
                    "jChar": 296
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 369,
                    "jChar": 376
                },
                {
                    "targets": [
                        "ts_firefly_firefly_class_CardView",
                        "ts_firefly_firefly_method_CardView_constructor"
                    ],
                    "iChar": 404,
                    "jChar": 413
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_highlightLink"
                    ],
                    "iChar": 464,
                    "jChar": 477
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openMain"
                    ],
                    "iChar": 166,
                    "jChar": 174
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 301,
                    "jChar": 309
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_function_closeCard",
            "language": "ts",
            "module": "firefly",
            "kind": "function",
            "name": "closeCard",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "// closes a card\nfunction closeCard(cardDiv: HTMLElement) {\n    let button = s_graphView.findLink(cardDiv);\n    if (button) {\n        highlightLink(button, false);\n    }\n    s_graphView.close(cardDiv);\n}",
                    "language": "ts",
                    "iLine": 356,
                    "jLine": 363
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_global_s_graphView"
                    ],
                    "iChar": 77,
                    "jChar": 88
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_findLink"
                    ],
                    "iChar": 88,
                    "jChar": 97
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_highlightLink"
                    ],
                    "iChar": 134,
                    "jChar": 147
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_close"
                    ],
                    "iChar": 185,
                    "jChar": 191
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openOrCloseCard"
                    ],
                    "iChar": 259,
                    "jChar": 268
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "ts_firefly_firefly_property_CodeBlock_text",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "text",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "text: string = \"\";                  // actual code text",
                    "language": "ts",
                    "iLine": 22,
                    "jLine": 22
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CodeBlock"
                    ],
                    "iChar": 317,
                    "jChar": 322
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 480,
                    "jChar": 485
                },
                {
                    "targets": [
                        "ts_firefly_firefly_method_CodeBlock_constructor"
                    ],
                    "iChar": 69,
                    "jChar": 74
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CodeBlock"
        },
        {
            "uid": "ts_firefly_firefly_property_CodeBlock_language",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "language",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "language: string;                   // \".ts\", \".py\", \".cpp\", \".hpp\", etc.",
                    "language": "ts",
                    "iLine": 23,
                    "jLine": 23
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CodeBlock"
                    ],
                    "iChar": 335,
                    "jChar": 344
                },
                {
                    "targets": [
                        "ts_firefly_firefly_method_CodeBlock_constructor"
                    ],
                    "iChar": 87,
                    "jChar": 96
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CodeBlock"
        },
        {
            "uid": "ts_firefly_firefly_property_CodeBlock_iLine",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "iLine",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "iLine: number = 0;                  // 1-based line index in original code file",
                    "language": "ts",
                    "iLine": 24,
                    "jLine": 24
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CodeBlock"
                    ],
                    "iChar": 361,
                    "jChar": 367
                },
                {
                    "targets": [
                        "ts_firefly_firefly_method_CodeBlock_constructor"
                    ],
                    "iChar": 113,
                    "jChar": 119
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CodeBlock"
        },
        {
            "uid": "ts_firefly_firefly_method_CodeBlock_constructor",
            "language": "ts",
            "module": "firefly",
            "kind": "method",
            "name": "constructor",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "constructor(code: string, language: string, iLine: number) {\n    this.text = code; this.language = language; this.iLine = iLine;\n}",
                    "language": "ts",
                    "iLine": 25,
                    "jLine": 27
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_text"
                    ],
                    "iChar": 69,
                    "jChar": 74
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_language",
                        "ts_firefly_firefly_property_Card_language"
                    ],
                    "iChar": 87,
                    "jChar": 96
                },
                {
                    "targets": [
                        "ts_firefly_firefly_property_CodeBlock_iLine"
                    ],
                    "iChar": 113,
                    "jChar": 119
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_CodeBlock"
        },
        {
            "uid": "ts_firefly_firefly_property_CodeBlock_}",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 28,
                    "jLine": 28
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_CodeBlock"
        },
        {
            "uid": "ts_firefly_firefly_property_Dependency_iChar",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "iChar",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "iChar: number = 0;                  // character index in code of start of symbol",
                    "language": "ts",
                    "iLine": 31,
                    "jLine": 31
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Dependency"
        },
        {
            "uid": "ts_firefly_firefly_property_Dependency_jChar",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "jChar",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "jChar: number = 0;                  // character index in code after symbol",
                    "language": "ts",
                    "iLine": 32,
                    "jLine": 32
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 939,
                    "jChar": 945
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Dependency"
        },
        {
            "uid": "ts_firefly_firefly_property_Dependency_targets",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "targets",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "targets: string[] = [];             // card uids we link to",
                    "language": "ts",
                    "iLine": 33,
                    "jLine": 33
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 988,
                    "jChar": 996
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Dependency"
        },
        {
            "uid": "ts_firefly_firefly_property_Dependency_};",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "};",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "};",
                    "language": "ts",
                    "iLine": 34,
                    "jLine": 34
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Dependency"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_uid",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "uid",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "uid: string = \"\";                   // uid; something like lang_module_kind_name, but maybe other decorators too",
                    "language": "ts",
                    "iLine": 37,
                    "jLine": 37
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_loadCards"
                    ],
                    "iChar": 370,
                    "jChar": 374
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_findCard"
                    ],
                    "iChar": 168,
                    "jChar": 172
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 367,
                    "jChar": 371
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_language",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "language",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "language: string = \"\";              // language shortname of original code",
                    "language": "ts",
                    "iLine": 38,
                    "jLine": 38
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CodeBlock"
                    ],
                    "iChar": 335,
                    "jChar": 344
                },
                {
                    "targets": [
                        "ts_firefly_firefly_method_CodeBlock_constructor"
                    ],
                    "iChar": 87,
                    "jChar": 96
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_module",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "module",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "module: string = \"\";                // module: eg. firefly or graphview",
                    "language": "ts",
                    "iLine": 39,
                    "jLine": 39
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_kind",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "kind",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "kind: string = \"\";                  // \"class\" or \"function\" or \"other\"",
                    "language": "ts",
                    "iLine": 40,
                    "jLine": 40
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFile"
                    ],
                    "iChar": 284,
                    "jChar": 289
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_shortName"
                    ],
                    "iChar": 188,
                    "jChar": 193
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_class_Card_being",
            "language": "ts",
            "module": "firefly",
            "kind": "class",
            "name": "being",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "name: string = \"\";                  // name of function or class being defined",
                    "language": "ts",
                    "iLine": 41,
                    "jLine": 41
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_purpose",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "purpose",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "purpose: string = \"\";               // purpose",
                    "language": "ts",
                    "iLine": 42,
                    "jLine": 42
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_examples",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "examples",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "examples: string = \"\";              // examples",
                    "language": "ts",
                    "iLine": 43,
                    "jLine": 43
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_inputs",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "inputs",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "inputs: string = \"\";                // inputs",
                    "language": "ts",
                    "iLine": 44,
                    "jLine": 44
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_outputs",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "outputs",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "outputs: string = \"\";               // outputs",
                    "language": "ts",
                    "iLine": 45,
                    "jLine": 45
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_code",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "code",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "code: CodeBlock[] = [];             // actual text from code file",
                    "language": "ts",
                    "iLine": 46,
                    "jLine": 46
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CodeBlock"
                    ],
                    "iChar": 6,
                    "jChar": 15
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 472,
                    "jChar": 477
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_dependsOn",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "dependsOn",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "dependsOn: Dependency[] = [];       // cards we depend on",
                    "language": "ts",
                    "iLine": 47,
                    "jLine": 47
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Dependency"
                    ],
                    "iChar": 11,
                    "jChar": 21
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 499,
                    "jChar": 509
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_dependents",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "dependents",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "dependents: Dependency[] =[];       // cards that depend on us",
                    "language": "ts",
                    "iLine": 48,
                    "jLine": 48
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Dependency"
                    ],
                    "iChar": 12,
                    "jChar": 22
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_children",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "children",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "children: Card[] =[];               // if we're a class, cards for methods",
                    "language": "ts",
                    "iLine": 49,
                    "jLine": 49
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_Card"
                    ],
                    "iChar": 10,
                    "jChar": 14
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 11118,
                    "jChar": 11127
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateCanvas"
                    ],
                    "iChar": 1989,
                    "jChar": 1998
                },
                {
                    "targets": [
                        "ts_firefly_util_function_getChildNodeIndex"
                    ],
                    "iChar": 106,
                    "jChar": 115
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_importLocalFolder"
                    ],
                    "iChar": 365,
                    "jChar": 374
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_parent",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "parent",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "parent: string = \"\";                // if we're a method or property, points to parent",
                    "language": "ts",
                    "iLine": 50,
                    "jLine": 50
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 4696,
                    "jChar": 4703
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_reopen"
                    ],
                    "iChar": 890,
                    "jChar": 897
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJsonNodeList"
                    ],
                    "iChar": 100,
                    "jChar": 107
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_shortName"
                    ],
                    "iChar": 83,
                    "jChar": 90
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_rankFromBottom",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "rankFromBottom",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "rankFromBottom: number = 0;         // 1 means depends on nothing; x means depends on things with rank < x",
                    "language": "ts",
                    "iLine": 51,
                    "jLine": 51
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_rankFromTop",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "rankFromTop",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "rankFromTop: number = 0;            // 1 means nothing calls this; x means called by things with rank < x",
                    "language": "ts",
                    "iLine": 52,
                    "jLine": 52
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_Card_}",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 54,
                    "jLine": 54
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_Card"
        },
        {
            "uid": "ts_firefly_firefly_property_CardView_state",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "state",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "state: CardViewState = CardViewState.Compact;",
                    "language": "ts",
                    "iLine": 64,
                    "jLine": 64
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_class_CardView"
                    ],
                    "iChar": 167,
                    "jChar": 173
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 244,
                    "jChar": 250
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 136,
                    "jChar": 142
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 131,
                    "jChar": 137
                },
                {
                    "targets": [
                        "ts_firefly_firefly_method_CardView_constructor"
                    ],
                    "iChar": 44,
                    "jChar": 50
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CardView"
        },
        {
            "uid": "ts_firefly_firefly_property_CardView_xScroll",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "xScroll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "xScroll: number =0;",
                    "language": "ts",
                    "iLine": 65,
                    "jLine": 65
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6129,
                    "jChar": 6137
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 159,
                    "jChar": 167
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 401,
                    "jChar": 409
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 131,
                    "jChar": 139
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1666,
                    "jChar": 1674
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 442,
                    "jChar": 450
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 178,
                    "jChar": 186
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CardView"
        },
        {
            "uid": "ts_firefly_firefly_property_CardView_yScroll",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "yScroll",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "yScroll: number =0;",
                    "language": "ts",
                    "iLine": 66,
                    "jLine": 66
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_graphview_class_GraphView"
                    ],
                    "iChar": 6165,
                    "jChar": 6173
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_openJson"
                    ],
                    "iChar": 191,
                    "jChar": 199
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_updateScroll"
                    ],
                    "iChar": 443,
                    "jChar": 451
                },
                {
                    "targets": [
                        "ts_firefly_graphview_method_GraphView_json"
                    ],
                    "iChar": 154,
                    "jChar": 162
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_cardToHTML"
                    ],
                    "iChar": 1697,
                    "jChar": 1705
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_expandOrContract"
                    ],
                    "iChar": 482,
                    "jChar": 490
                },
                {
                    "targets": [
                        "ts_firefly_firefly_function_getScrollPos"
                    ],
                    "iChar": 217,
                    "jChar": 225
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CardView"
        },
        {
            "uid": "ts_firefly_firefly_method_CardView_constructor",
            "language": "ts",
            "module": "firefly",
            "kind": "method",
            "name": "constructor",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "constructor(state: CardViewState) {\n    this.state = state;\n}",
                    "language": "ts",
                    "iLine": 67,
                    "jLine": 69
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "ts_firefly_firefly_property_CardView_state"
                    ],
                    "iChar": 44,
                    "jChar": 50
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_openCard"
                    ],
                    "iChar": 404,
                    "jChar": 413
                }
            ],
            "children": [],
            "parent": "ts_firefly_firefly_class_CardView"
        },
        {
            "uid": "ts_firefly_firefly_property_CardView_}",
            "language": "ts",
            "module": "firefly",
            "kind": "property",
            "name": "}",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "}",
                    "language": "ts",
                    "iLine": 70,
                    "jLine": 70
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "ts_firefly_firefly_class_CardView"
        },
        {
            "uid": "py_firefly_firefly_global_import http.server",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import http.server",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import http.server",
                    "language": "py",
                    "iLine": 5,
                    "jLine": 5
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import socketserver",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import socketserver",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import socketserver",
                    "language": "py",
                    "iLine": 6,
                    "jLine": 6
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import json",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import json",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import json",
                    "language": "py",
                    "iLine": 7,
                    "jLine": 7
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import os",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import os",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import os",
                    "language": "py",
                    "iLine": 8,
                    "jLine": 8
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import subprocess",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import subprocess",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import subprocess",
                    "language": "py",
                    "iLine": 9,
                    "jLine": 9
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import threading",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import threading",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import threading",
                    "language": "py",
                    "iLine": 10,
                    "jLine": 10
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_from urllib.parse import parse_qs, urlparse",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "from urllib.parse import parse_qs, urlparse",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "from urllib.parse import parse_qs, urlparse",
                    "language": "py",
                    "iLine": 11,
                    "jLine": 11
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_from io import BytesIO",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "from io import BytesIO",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "from io import BytesIO",
                    "language": "py",
                    "iLine": 12,
                    "jLine": 12
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import socket",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import socket",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import socket",
                    "language": "py",
                    "iLine": 13,
                    "jLine": 13
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_from typing import Tuple",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "from typing import Tuple",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "from typing import Tuple",
                    "language": "py",
                    "iLine": 14,
                    "jLine": 14
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import re",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import re",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import re",
                    "language": "py",
                    "iLine": 15,
                    "jLine": 15
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import select",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import select",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import select",
                    "language": "py",
                    "iLine": 16,
                    "jLine": 16
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_import subprocess",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "import subprocess",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import subprocess",
                    "language": "py",
                    "iLine": 17,
                    "jLine": 17
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_from cards import importAllCards",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "from cards import importAllCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "from cards import importAllCards",
                    "language": "py",
                    "iLine": 18,
                    "jLine": 18
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 18,
                    "jChar": 32
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_listen_port",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "listen_port",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "listen_port = 8003",
                    "language": "py",
                    "iLine": 20,
                    "jLine": 20
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly_start"
                    ],
                    "iChar": 71,
                    "jChar": 82
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_app_name",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "app_name",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "app_name = \"firefly\"",
                    "language": "py",
                    "iLine": 21,
                    "jLine": 21
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 12,
                    "jChar": 19
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_global_public"
                    ],
                    "iChar": 47,
                    "jChar": 55
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 45,
                    "jChar": 53
                },
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 848,
                    "jChar": 856
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 400,
                    "jChar": 408
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_do_POST"
                    ],
                    "iChar": 209,
                    "jChar": 217
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path"
                    ],
                    "iChar": 216,
                    "jChar": 224
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_public",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "public",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "public = f\"/Users/asnaroo/desktop/experiments/{app_name}/public\"",
                    "language": "py",
                    "iLine": 23,
                    "jLine": 23
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 47,
                    "jChar": 55
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 1726,
                    "jChar": 1732
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path"
                    ],
                    "iChar": 244,
                    "jChar": 250
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_root",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "root",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "root = f\"/Users/asnaroo/desktop/experiments/{app_name}\"",
                    "language": "py",
                    "iLine": 24,
                    "jLine": 24
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 45,
                    "jChar": 53
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 1970,
                    "jChar": 1974
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 95,
                    "jChar": 99
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_save"
                    ],
                    "iChar": 32,
                    "jChar": 36
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_load"
                    ],
                    "iChar": 27,
                    "jChar": 31
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path"
                    ],
                    "iChar": 472,
                    "jChar": 476
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromFile"
                    ],
                    "iChar": 107,
                    "jChar": 111
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_global_build_process",
            "language": "py",
            "module": "firefly",
            "kind": "global",
            "name": "build_process",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "build_process = None",
                    "language": "py",
                    "iLine": 26,
                    "jLine": 26
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_class_CustomHTTPRequestHandler",
            "language": "py",
            "module": "firefly",
            "kind": "class",
            "name": "CustomHTTPRequestHandler",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class CustomHTTPRequestHandler(http.server.SimpleHTTPRequestHandler):\n    def do_OPTIONS(self):\n        self.send_response(200, \"ok\")\n        self.send_header(\"Access-Control-Allow-Origin\", \"http://localhost:8000\")\n        self.send_header(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS\")\n        self.send_header(\"Access-Control-Allow-Headers\", \"Content-Type\")\n        self.end_headers()\n    def do_GET(self):\n        path = self.translate_path(self.path)\n        if path is None:\n            print(\"notfound:\", path)\n            self.send_error(404, \"File not found\")\n            return\n        super().do_GET()\n    def do_POST(self):\n        content_length = int(self.headers.get(\"Content-Length\", \"0\"))\n        raw_data = self.rfile.read(content_length).decode(\"utf-8\")\n        post_data = json.loads(raw_data)\n        if self.path == f\"/{app_name}\":\n            response = firefly(post_data['func'], post_data['args'])\n            self.respond(response)\n        else:\n            self.send_error(404, \"Endpoint not found\")\n    def respond(self, output):\n        encoded_output = json.dumps(output).encode(\"utf-8\")\n        self.send_response(200)\n        self.send_header(\"Content-Type\", \"application/json; charset=utf-8\")\n        self.send_header(\"Content-Length\", str(len(encoded_output)))\n        self.send_header(\"Access-Control-Allow-Origin\", \"http://localhost:8000\")\n        self.end_headers()\n        self.wfile.write(encoded_output)\n    def translate_path(self, path):\n        print(\"requested:\", path)\n        path = urlparse(path).path\n        #print(\"after urlparse\", path)\n        path = os.path.normpath(path)\n        _, ext = os.path.splitext(path)\n        if (path==f\"/{app_name}\"):\n            path = public + \"/index.html\"\n        elif ext == \".css\" or ext == \".js\" or ext == \".ico\":\n            path = public + path.replace(f\"{app_name}/\", \"\", 1)\n        elif ext == \".md\" or ext == \".hpp\" or ext == \".cpp\" or ext == \".ts\":\n            path = root + path\n        else:\n            return None\n        print(\"resolved path:\", path)\n        if not os.path.exists(path):\n            return None\n        # Serve files from the specified folder\n        return path",
                    "language": "py",
                    "iLine": 28,
                    "jLine": 84
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path"
                    ],
                    "iChar": 435,
                    "jChar": 450
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_do_GET"
                    ],
                    "iChar": 609,
                    "jChar": 616
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 848,
                    "jChar": 856
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 883,
                    "jChar": 890
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_respond"
                    ],
                    "iChar": 945,
                    "jChar": 953
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_public"
                    ],
                    "iChar": 1726,
                    "jChar": 1732
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 1970,
                    "jChar": 1974
                }
            ],
            "dependents": [],
            "children": [
                "py_firefly_firefly_method_CustomHTTPRequestHandler_do_OPTIONS",
                "py_firefly_firefly_method_CustomHTTPRequestHandler_do_GET",
                "py_firefly_firefly_method_CustomHTTPRequestHandler_do_POST",
                "py_firefly_firefly_method_CustomHTTPRequestHandler_respond",
                "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_firefly",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "firefly",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "# dispatch commands to actual functions\ndef firefly(func, args):\n    if func == \"importFolders\":\n        print(\"importFolders\", args)\n        return importFolders(args['project'], args['folders'])\n    elif func == \"save\":\n        print(\"save\", args)\n        return save(args[\"path\"], args[\"json\"])\n    elif func == \"load\":\n        print(\"load\", args)\n        return load(args[\"path\"])\n    return f\"${app_name}: command not supported\"",
                    "language": "py",
                    "iLine": 86,
                    "jLine": 97
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 81,
                    "jChar": 94
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_save"
                    ],
                    "iChar": 215,
                    "jChar": 219
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_load"
                    ],
                    "iChar": 316,
                    "jChar": 320
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 400,
                    "jChar": 408
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 12,
                    "jChar": 19
                },
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 883,
                    "jChar": 890
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_do_POST"
                    ],
                    "iChar": 240,
                    "jChar": 247
                },
                {
                    "targets": [
                        "py_firefly_cards_function_cardsToJsonDict"
                    ],
                    "iChar": 294,
                    "jChar": 301
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_importFolders",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "importFolders",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importFolders(project, folders):\n    fullPaths = []\n    for f in folders: fullPaths.append(root + \"/\" + f)\n    return importAllCards(project, fullPaths)",
                    "language": "py",
                    "iLine": 99,
                    "jLine": 102
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 95,
                    "jChar": 99
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 122,
                    "jChar": 136
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 92,
                    "jChar": 114
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 81,
                    "jChar": 94
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_save",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "save",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def save(path, obj):\n    path = root + \"/data/\" + path\n    writeJsonToFile(obj, path)\n    return { \"saved\" : True }",
                    "language": "py",
                    "iLine": 104,
                    "jLine": 107
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 32,
                    "jChar": 36
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_writeJsonToFile"
                    ],
                    "iChar": 59,
                    "jChar": 74
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_save"
                    ],
                    "iChar": 65,
                    "jChar": 78
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 215,
                    "jChar": 219
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_load",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "load",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def load(path):\n    path = root + \"/data/\" + path\n    print(\"path:\", path)\n    if os.path.exists(path):\n        json = readJsonFromFile(path)\n        print(\"found!\", json)\n        return json\n    else:\n        print(\"notfound!\")\n        return { \"error\" : f\"{path.replace(root, '')} not found\" }",
                    "language": "py",
                    "iLine": 109,
                    "jLine": 118
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 27,
                    "jChar": 31
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_readJsonFromFile"
                    ],
                    "iChar": 119,
                    "jChar": 135
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "ts_firefly_firefly_function_load"
                    ],
                    "iChar": 76,
                    "jChar": 89
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 316,
                    "jChar": 320
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_readJsonFromFile"
                    ],
                    "iChar": 90,
                    "jChar": 94
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_writeJsonToFile",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "writeJsonToFile",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def writeJsonToFile(obj, path: str):\n    os.makedirs(os.path.dirname(path), exist_ok=True)\n    with open(path, 'w') as file:\n        json.dump(obj, file, indent=4)",
                    "language": "py",
                    "iLine": 120,
                    "jLine": 123
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_function_save"
                    ],
                    "iChar": 59,
                    "jChar": 74
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_readJsonFromFile",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "readJsonFromFile",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def readJsonFromFile(filename):\n    with open(filename, 'r') as file:\n        data = json.load(file)\n    return data",
                    "language": "py",
                    "iLine": 125,
                    "jLine": 128
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_function_load"
                    ],
                    "iChar": 90,
                    "jChar": 94
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_function_load"
                    ],
                    "iChar": 119,
                    "jChar": 135
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_function_firefly_start",
            "language": "py",
            "module": "firefly",
            "kind": "function",
            "name": "firefly_start",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def firefly_start():\n    print(f\"starting webserver listening on port {listen_port}...\")\n    Handler = CustomHTTPRequestHandler\n    with socketserver.TCPServer((\"\", listen_port), Handler) as httpd:\n        print(f\"Serving on port {listen_port}\")\n        httpd.serve_forever()",
                    "language": "py",
                    "iLine": 130,
                    "jLine": 135
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_listen_port"
                    ],
                    "iChar": 71,
                    "jChar": 82
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_firefly_method_CustomHTTPRequestHandler_do_OPTIONS",
            "language": "py",
            "module": "firefly",
            "kind": "method",
            "name": "do_OPTIONS",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def do_OPTIONS(self):\n    self.send_response(200, \"ok\")\n    self.send_header(\"Access-Control-Allow-Origin\", \"http://localhost:8000\")\n    self.send_header(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS\")\n    self.send_header(\"Access-Control-Allow-Headers\", \"Content-Type\")\n    self.end_headers()",
                    "language": "py",
                    "iLine": 31,
                    "jLine": 36
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "py_firefly_firefly_class_CustomHTTPRequestHandler"
        },
        {
            "uid": "py_firefly_firefly_method_CustomHTTPRequestHandler_do_GET",
            "language": "py",
            "module": "firefly",
            "kind": "method",
            "name": "do_GET",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def do_GET(self):\n    path = self.translate_path(self.path)\n    if path is None:\n        print(\"notfound:\", path)\n        self.send_error(404, \"File not found\")\n        return\n    super().do_GET()",
                    "language": "py",
                    "iLine": 37,
                    "jLine": 43
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path"
                    ],
                    "iChar": 33,
                    "jChar": 48
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 609,
                    "jChar": 616
                }
            ],
            "children": [],
            "parent": "py_firefly_firefly_class_CustomHTTPRequestHandler"
        },
        {
            "uid": "py_firefly_firefly_method_CustomHTTPRequestHandler_do_POST",
            "language": "py",
            "module": "firefly",
            "kind": "method",
            "name": "do_POST",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def do_POST(self):\n    content_length = int(self.headers.get(\"Content-Length\", \"0\"))\n    raw_data = self.rfile.read(content_length).decode(\"utf-8\")\n    post_data = json.loads(raw_data)\n    if self.path == f\"/{app_name}\":\n        response = firefly(post_data['func'], post_data['args'])\n        self.respond(response)\n    else:\n        self.send_error(404, \"Endpoint not found\")",
                    "language": "py",
                    "iLine": 44,
                    "jLine": 52
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 209,
                    "jChar": 217
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 240,
                    "jChar": 247
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_respond"
                    ],
                    "iChar": 298,
                    "jChar": 306
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "py_firefly_firefly_class_CustomHTTPRequestHandler"
        },
        {
            "uid": "py_firefly_firefly_method_CustomHTTPRequestHandler_respond",
            "language": "py",
            "module": "firefly",
            "kind": "method",
            "name": "respond",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def respond(self, output):\n    encoded_output = json.dumps(output).encode(\"utf-8\")\n    self.send_response(200)\n    self.send_header(\"Content-Type\", \"application/json; charset=utf-8\")\n    self.send_header(\"Content-Length\", str(len(encoded_output)))\n    self.send_header(\"Access-Control-Allow-Origin\", \"http://localhost:8000\")\n    self.end_headers()\n    self.wfile.write(encoded_output)",
                    "language": "py",
                    "iLine": 53,
                    "jLine": 60
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 945,
                    "jChar": 953
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_do_POST"
                    ],
                    "iChar": 298,
                    "jChar": 306
                }
            ],
            "children": [],
            "parent": "py_firefly_firefly_class_CustomHTTPRequestHandler"
        },
        {
            "uid": "py_firefly_firefly_method_CustomHTTPRequestHandler_translate_path",
            "language": "py",
            "module": "firefly",
            "kind": "method",
            "name": "translate_path",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def translate_path(self, path):\n    print(\"requested:\", path)\n    path = urlparse(path).path\n    #print(\"after urlparse\", path)\n    path = os.path.normpath(path)\n    _, ext = os.path.splitext(path)\n    if (path==f\"/{app_name}\"):\n        path = public + \"/index.html\"\n    elif ext == \".css\" or ext == \".js\" or ext == \".ico\":\n        path = public + path.replace(f\"{app_name}/\", \"\", 1)\n    elif ext == \".md\" or ext == \".hpp\" or ext == \".cpp\" or ext == \".ts\":\n        path = root + path\n    else:\n        return None\n    print(\"resolved path:\", path)\n    if not os.path.exists(path):\n        return None\n    # Serve files from the specified folder\n    return path",
                    "language": "py",
                    "iLine": 61,
                    "jLine": 79
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_firefly_global_app_name"
                    ],
                    "iChar": 216,
                    "jChar": 224
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_public"
                    ],
                    "iChar": 244,
                    "jChar": 250
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 472,
                    "jChar": 476
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_class_CustomHTTPRequestHandler"
                    ],
                    "iChar": 435,
                    "jChar": 450
                },
                {
                    "targets": [
                        "py_firefly_firefly_method_CustomHTTPRequestHandler_do_GET"
                    ],
                    "iChar": 33,
                    "jChar": 48
                }
            ],
            "children": [],
            "parent": "py_firefly_firefly_class_CustomHTTPRequestHandler"
        },
        {
            "uid": "py_firefly_cards_global_import os",
            "language": "py",
            "module": "cards",
            "kind": "global",
            "name": "import os",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import os",
                    "language": "py",
                    "iLine": 8,
                    "jLine": 8
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_global_from typing import List",
            "language": "py",
            "module": "cards",
            "kind": "global",
            "name": "from typing import List",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "from typing import List",
                    "language": "py",
                    "iLine": 9,
                    "jLine": 9
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_global_import random",
            "language": "py",
            "module": "cards",
            "kind": "global",
            "name": "import random",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import random",
                    "language": "py",
                    "iLine": 10,
                    "jLine": 10
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_global_import json",
            "language": "py",
            "module": "cards",
            "kind": "global",
            "name": "import json",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "import json",
                    "language": "py",
                    "iLine": 11,
                    "jLine": 11
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_importAllCards",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "importAllCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importAllCards(project, folders) -> dict:\n    cards = []\n    for folder in folders:\n        files = findAllFiles(folder, \".ts\") + findAllFiles(folder, \".py\")\n        print(\"files:\", files)\n        for file in files:\n            cards.extend(importCardsFromFile(project, file))\n    cards = list(filter(lambda c: not c.uid().endswith(\"_\"), cards))\n    computeDependencies(cards)\n    #computeLevels(cards)\n    return cardsToJsonDict(cards)",
                    "language": "py",
                    "iLine": 13,
                    "jLine": 23
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_function_findAllFiles"
                    ],
                    "iChar": 104,
                    "jChar": 116
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromFile"
                    ],
                    "iChar": 245,
                    "jChar": 264
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_uid"
                    ],
                    "iChar": 320,
                    "jChar": 324
                },
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 354,
                    "jChar": 373
                },
                {
                    "targets": [
                        "py_firefly_cards_function_cardsToJsonDict"
                    ],
                    "iChar": 418,
                    "jChar": 433
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_firefly_global_from cards import importAllCards"
                    ],
                    "iChar": 18,
                    "jChar": 32
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_importFolders"
                    ],
                    "iChar": 122,
                    "jChar": 136
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_class_Language",
            "language": "py",
            "module": "cards",
            "kind": "class",
            "name": "Language",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Language:\n    def name(self) -> str:\n        return \"\"\n    def shortName(self) -> str:\n        return \"\"\n    def comment(self) -> str:\n        return \"\"\n    def importCards(self, project, module,  text):\n        return []\n    def findTypeAndName(self, card, minIndent) -> (str, str):\n        return (\"\", \"\")",
                    "language": "py",
                    "iLine": 25,
                    "jLine": 35
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 167,
                    "jChar": 178
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_CodeBlock"
                    ],
                    "iChar": 61,
                    "jChar": 69
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 83,
                    "jChar": 91
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Python"
                    ],
                    "iChar": 13,
                    "jChar": 21
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Typescript"
                    ],
                    "iChar": 30,
                    "jChar": 38
                },
                {
                    "targets": [
                        "py_firefly_cards_function_findLanguage"
                    ],
                    "iChar": 30,
                    "jChar": 38
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 61,
                    "jChar": 69
                }
            ],
            "children": [
                "py_firefly_cards_method_Language_name",
                "py_firefly_cards_method_Language_shortName",
                "py_firefly_cards_method_Language_comment",
                "py_firefly_cards_method_Language_importCards",
                "py_firefly_cards_method_Language_findTypeAndName"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_class_CodeBlock",
            "language": "py",
            "module": "cards",
            "kind": "class",
            "name": "CodeBlock",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class CodeBlock:\n    def __init__(self, text: str, language: Language, iLine: int):\n        self.text = text\n        self.language = language\n        self.iLine = iLine\n        self.jLine = iLine # inclusive: eurgh",
                    "language": "py",
                    "iLine": 37,
                    "jLine": 42
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 61,
                    "jChar": 69
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 613,
                    "jChar": 622
                },
                {
                    "targets": [
                        "py_firefly_cards_function_inComment"
                    ],
                    "iChar": 32,
                    "jChar": 41
                }
            ],
            "children": [
                "py_firefly_cards_method_CodeBlock___init__"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_class_Card",
            "language": "py",
            "module": "cards",
            "kind": "class",
            "name": "Card",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Card:\n    def __init__(self, project: str, module: str, code: str, language: Language, iLine: int) :\n        self.project = project  # global\n        self.module = module    # root-relative path of the file, for disambiguation\n        self.language = language.shortName()    \n        self.kind = ''          # \"class\" or \"function\" or \"other\"\n        self.name = ''          # name of function or class being defined\n        self.purpose = ''       # purpose\n        self.examples = ''      # examples\n        self.inputs = ''        # inputs\n        self.outputs = ''       # outputs\n        self.code = [ CodeBlock(code, language, iLine) ]        # actual text from code file\n        self.dependsOn = []     # cards we depend on\n        self.dependents = []    # cards that depend on us\n        self.children = []      # if we're a class, cards for methods\n        self.parent = None      # if we're a method or property, points to parent\n        self.rankFromBottom = 0 # 1 means depends on nothing; x means depends on things with rank < x\n        self.rankFromTop = 0    # 1 means nothing calls this; x means called by things with rank < x \n    def fullName(self):\n        if self.parent: return self.parent.name + \".\" + self.name\n        else: return self.name\n    def uid(self):\n        u = self.language + \"_\" + self.project + \"_\" + self.module + \"_\" + self.kind + \"_\"\n        if self.parent: u += self.parent.name + \"_\"\n        u += self.name\n        return u",
                    "language": "py",
                    "iLine": 44,
                    "jLine": 69
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 83,
                    "jChar": 91
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_shortName",
                        "py_firefly_cards_method_Python_shortName",
                        "py_firefly_cards_method_Typescript_shortName"
                    ],
                    "iChar": 265,
                    "jChar": 275
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_name",
                        "py_firefly_cards_method_Python_name",
                        "py_firefly_cards_method_Typescript_name"
                    ],
                    "iChar": 361,
                    "jChar": 366
                },
                {
                    "targets": [
                        "py_firefly_cards_class_CodeBlock"
                    ],
                    "iChar": 613,
                    "jChar": 622
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 49,
                    "jChar": 53
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Dependency"
                    ],
                    "iChar": 73,
                    "jChar": 77
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Python"
                    ],
                    "iChar": 199,
                    "jChar": 203
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Typescript"
                    ],
                    "iChar": 221,
                    "jChar": 225
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromFile"
                    ],
                    "iChar": 51,
                    "jChar": 55
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 72,
                    "jChar": 76
                },
                {
                    "targets": [
                        "py_firefly_cards_function_cardsToJsonDict"
                    ],
                    "iChar": 32,
                    "jChar": 36
                },
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "py_firefly_cards_function_computeLevels"
                    ],
                    "iChar": 30,
                    "jChar": 34
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 90,
                    "jChar": 94
                },
                {
                    "targets": [
                        "py_firefly_cards_function_removeIndents"
                    ],
                    "iChar": 30,
                    "jChar": 34
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Python_importCards"
                    ],
                    "iChar": 64,
                    "jChar": 68
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Typescript_importCards"
                    ],
                    "iChar": 64,
                    "jChar": 68
                }
            ],
            "children": [
                "py_firefly_cards_method_Card___init__",
                "py_firefly_cards_method_Card_fullName",
                "py_firefly_cards_method_Card_uid"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_card_serialiser",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "card_serialiser",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def card_serialiser(obj):\n    if isinstance(obj, Card):\n        return {\n            \"uid\" : obj.uid(),\n            \"language\" : obj.language,\n            \"module\" : obj.module,\n            \"kind\" : obj.kind,\n            \"name\" : obj.name,\n            \"purpose\" : obj.purpose,\n            \"examples\" : obj.examples,\n            \"inputs\" : obj.inputs,\n            \"outputs\" : obj.outputs,\n            \"code\" : [{ \"text\" : c.text, \"language\" : c.language.shortName(), \"iLine\" : c.iLine, \"jLine\" : c.jLine } for c in obj.code],\n            \"dependsOn\" : [ { \"targets\" : [t.uid() for t in d.targets], \"iChar\": d.iChar, \"jChar\": d.jChar } for d in obj.dependsOn],\n            \"dependents\" : [ { \"targets\" : [t.uid() for t in d.targets], \"iChar\": d.iChar, \"jChar\": d.jChar } for d in obj.dependents],\n            \"children\" : [ c.uid() for c in obj.children],\n            \"parent\" : obj.parent.uid() if obj.parent else \"null\"\n        }\n    raise TypeError(f\"Type {type(obj)} unfortunately is not serializable\")",
                    "language": "py",
                    "iLine": 71,
                    "jLine": 89
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 49,
                    "jChar": 53
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_uid"
                    ],
                    "iChar": 96,
                    "jChar": 100
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_name",
                        "py_firefly_cards_method_Python_name",
                        "py_firefly_cards_method_Typescript_name"
                    ],
                    "iChar": 233,
                    "jChar": 238
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_shortName",
                        "py_firefly_cards_method_Python_shortName",
                        "py_firefly_cards_method_Typescript_shortName"
                    ],
                    "iChar": 452,
                    "jChar": 462
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_cardsToJsonDict"
                    ],
                    "iChar": 126,
                    "jChar": 141
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_class_Dependency",
            "language": "py",
            "module": "cards",
            "kind": "class",
            "name": "Dependency",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Dependency:\n    def __init__(self, iChar: int, jChar: int, target: Card):\n        self.iChar = iChar\n        self.jChar = jChar\n        self.targets = [ target ]\n    def combine(self, dep):\n        self.iChar = min(self.iChar, dep.iChar)\n        self.jChar = max(self.jChar, dep.jChar)\n        self.targets += dep.targets",
                    "language": "py",
                    "iLine": 91,
                    "jLine": 99
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 73,
                    "jChar": 77
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 1392,
                    "jChar": 1402
                }
            ],
            "children": [
                "py_firefly_cards_method_Dependency___init__",
                "py_firefly_cards_method_Dependency_combine"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_class_Python",
            "language": "py",
            "module": "cards",
            "kind": "class",
            "name": "Python",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "class Python(Language):\n    def name(self): return \"python\"\n    def shortName(self): return \"py\"\n    def comment(self): return \"#\"\n    def importCards(self, project, module, text, minIndent) -> List[Card]:\n        lines = text.split(\"\\n\")\n        card = None\n        cards = []\n        indent = 0\n        for i in range(0, len(lines)):\n            line = lines[i]\n            prevLine = lines[i-1] if i > 0 else \"\"\n            if not(isBlank(line)):\n                oldIndent = indent\n                indent = nTabsAtStart(line)\n                if indent >= minIndent:\n                    if card == None or (oldIndent > minIndent and indent == minIndent) or (indent==minIndent and oldIndent==indent and (not(prevLine.strip().startswith(\"#\")))):\n                        card = Card(project, module, line, self, i+1)\n                        cards.append(card)\n                    else:\n                        card.code[0].text += \"\\n\" + line\n                        card.code[0].jLine = i+1\n        return cards\n    def findTypeAndName(self, card) -> (str, str):\n        lines = card.code[0].text.split(\"\\n\")\n        for line in lines:\n            l = line.strip()\n            if not l.startswith(\"#\"):\n                if l.startswith(\"def\"):\n                    parts = l.split(f\"(\")   # \"def funcName\"  \"params) -> result:\"\n                    funcName = parts[0].split(\" \")[1].strip()\n                    if parts[1].startswith(\"self\"):\n                        return (\"method\", funcName)\n                    else:\n                        return (\"function\", funcName)\n                elif l.startswith(\"class\"):\n                    return (\"class\", l.split(\" \")[1].split(\":\")[0].split(\"(\")[0])\n                else: # could be property (self.blah = ) or global (blah = ..)\n                    parts = l.split(\"=\")\n                    if \"self.\" in parts[0]:\n                        return (\"method\", parts[0].strip())\n                    else:\n                        return (\"global\", parts[0].strip())\n        return (\"unknown\", \"unknown\")",
                    "language": "py",
                    "iLine": 101,
                    "jLine": 144
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 13,
                    "jChar": 21
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 139,
                    "jChar": 150
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 199,
                    "jChar": 203
                },
                {
                    "targets": [
                        "py_firefly_cards_function_isBlank"
                    ],
                    "iChar": 434,
                    "jChar": 441
                },
                {
                    "targets": [
                        "py_firefly_cards_function_nTabsAtStart"
                    ],
                    "iChar": 510,
                    "jChar": 522
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_findLanguage"
                    ],
                    "iChar": 68,
                    "jChar": 74
                }
            ],
            "children": [
                "py_firefly_cards_method_Python_name",
                "py_firefly_cards_method_Python_shortName",
                "py_firefly_cards_method_Python_comment",
                "py_firefly_cards_method_Python_importCards",
                "py_firefly_cards_method_Python_findTypeAndName"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_class_Typescript",
            "language": "py",
            "module": "cards",
            "kind": "class",
            "name": "Typescript",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "# typescript\nclass Typescript(Language):\n    def name(self): return \"typescript\"\n    def shortName(self): return \"ts\"\n    def comment(self): return \"//\"\n    def importCards(self, project, module, text, minIndent) -> List[Card]:\n        lines = text.split(\"\\n\")\n        cards = []\n        card = None\n        prevLine = \"\"\n        indent = 0\n        for iLine in range(0, len(lines)):\n            line = lines[iLine]\n            if indent >= minIndent: # only consider lines above the min indent level\n                # should we start a new card?\n                # YES if current line has indent = minIndent, and previous line is not a comment\n                if indent == minIndent and not prevLine.strip().startswith(\"//\"):\n                    card = Card(project, module, line, self, iLine+1)\n                    cards.append(card)\n                else:\n                    card.code[0].text += \"\\n\" + line\n                    card.code[0].jLine = iLine + 1\n            indent = indent + countBraces(line)\n            prevLine = line\n        return cards\n    def findTypeAndName(self, card) -> (str, str):\n        lines = card.code[0].text.split(\"\\n\")\n        for line in lines:\n            l = line.strip()\n            if not l.startswith(\"//\"):\n                w = l.split(\" \")\n                classIndex = findString(w, \"class\")\n                if classIndex >= 0:\n                    return (\"class\", w[classIndex+1])\n                funcIndex = findString(w, \"function\")\n                if funcIndex >= 0:\n                    return (\"function\", w[funcIndex+1].split(\"(\")[0].split(\"<\")[0])\n                elif card.parent != None:\n                    if \"(\" in w[0]:\n                        return (\"method\", w[0].split(\"(\")[0])\n                    else:\n                        return (\"property\", w[0].split(\":\")[0])\n                elif w[0]==\"var\" or w[0]==\"let\" or w[0]==\"const\":\n                    return (\"global\", w[1].split(\":\")[0])\n        return (\"unknown\", \"unknown\")",
                    "language": "py",
                    "iLine": 146,
                    "jLine": 190
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 30,
                    "jChar": 38
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 161,
                    "jChar": 172
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 221,
                    "jChar": 225
                },
                {
                    "targets": [
                        "py_firefly_cards_function_countBraces"
                    ],
                    "iChar": 991,
                    "jChar": 1002
                },
                {
                    "targets": [
                        "py_firefly_cards_function_findString"
                    ],
                    "iChar": 1312,
                    "jChar": 1322
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_findLanguage"
                    ],
                    "iChar": 123,
                    "jChar": 133
                }
            ],
            "children": [
                "py_firefly_cards_method_Typescript_name",
                "py_firefly_cards_method_Typescript_shortName",
                "py_firefly_cards_method_Typescript_comment",
                "py_firefly_cards_method_Typescript_importCards",
                "py_firefly_cards_method_Typescript_findTypeAndName"
            ],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_countBraces",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "countBraces",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def countBraces(s: str) -> int:\n    return s.count(\"{\") - s.count(\"}\")",
                    "language": "py",
                    "iLine": 192,
                    "jLine": 193
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Typescript"
                    ],
                    "iChar": 991,
                    "jChar": 1002
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Typescript_importCards"
                    ],
                    "iChar": 766,
                    "jChar": 777
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_nTabsAtStart",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "nTabsAtStart",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def nTabsAtStart(s: str) -> int:\n    return (len(s) - len(s.lstrip(' ')))/4",
                    "language": "py",
                    "iLine": 195,
                    "jLine": 196
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Python"
                    ],
                    "iChar": 510,
                    "jChar": 522
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Python_importCards"
                    ],
                    "iChar": 335,
                    "jChar": 347
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_isBlank",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "isBlank",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def isBlank(s: str) -> bool:    \n    return not s.strip()",
                    "language": "py",
                    "iLine": 198,
                    "jLine": 199
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Python"
                    ],
                    "iChar": 434,
                    "jChar": 441
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Python_importCards"
                    ],
                    "iChar": 267,
                    "jChar": 274
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_readFile",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "readFile",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def readFile(filename: str) -> str:\n    with open (filename, \"r\") as f:\n        text = f.read()\n    return text",
                    "language": "py",
                    "iLine": 201,
                    "jLine": 204
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromFile"
                    ],
                    "iChar": 220,
                    "jChar": 228
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_findLanguage",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "findLanguage",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findLanguage(ext: str) -> Language:\n    if ext == \".py\": return Python()\n    elif ext == \".ts\" or ext == \".js\": return Typescript()\n    else:\n        raise Exception(\"Unrecognised file extension\")",
                    "language": "py",
                    "iLine": 206,
                    "jLine": 210
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 30,
                    "jChar": 38
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Python"
                    ],
                    "iChar": 68,
                    "jChar": 74
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Typescript"
                    ],
                    "iChar": 123,
                    "jChar": 133
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 94,
                    "jChar": 106
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_importCardsFromFile",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "importCardsFromFile",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importCardsFromFile(project, filename) -> List[Card]:\n    #print(\"importing cards from\", filename)\n    root, ext = os.path.splitext(filename)\n    module = root.split('/')[-1]        # eg. firefly or cards\n    text = readFile(filename)\n    return importCards(project, module, text, ext)",
                    "language": "py",
                    "iLine": 212,
                    "jLine": 217
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 51,
                    "jChar": 55
                },
                {
                    "targets": [
                        "py_firefly_firefly_global_root"
                    ],
                    "iChar": 107,
                    "jChar": 111
                },
                {
                    "targets": [
                        "py_firefly_cards_function_readFile"
                    ],
                    "iChar": 220,
                    "jChar": 228
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 250,
                    "jChar": 261
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 245,
                    "jChar": 264
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_importCards",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "importCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importCards(project: str, module: str, text: str, ext: str) -> List[Card]:\n    language = findLanguage(ext)\n    cards = importCardsFromText(project, module, language, text, None, 0)\n    allChildren = []\n    for c in cards:\n        if c.kind == \"class\":\n            #print(\"importing methods for class\", c.name)\n            c.children = importCardsFromText(project, module, language, c.code[0].text, c, 1)\n            for child in c.children:\n                child.code[0].iLine += c.code[0].iLine +1       # not sure why but hey\n                child.code[0].jLine += c.code[0].iLine +1\n            allChildren += c.children\n    cards += allChildren\n    cards = [card for card in cards if card.name != \"unknown\"] # remove unknown name cards\n    return cards",
                    "language": "py",
                    "iLine": 219,
                    "jLine": 234
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 72,
                    "jChar": 76
                },
                {
                    "targets": [
                        "py_firefly_cards_function_findLanguage"
                    ],
                    "iChar": 94,
                    "jChar": 106
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 124,
                    "jChar": 143
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 167,
                    "jChar": 178
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Python"
                    ],
                    "iChar": 139,
                    "jChar": 150
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Typescript"
                    ],
                    "iChar": 161,
                    "jChar": 172
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromFile"
                    ],
                    "iChar": 250,
                    "jChar": 261
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 147,
                    "jChar": 158
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_cardsToJsonDict",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "cardsToJsonDict",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def cardsToJsonDict(cards: List[Card]) -> dict:\n    print(\"cardsToJsonDict:\", len(cards), \"cards\")\n    jsonObj = { \"cards\" : [card_serialiser(c) for c in cards] }\n    jsonStr = json.dumps(jsonObj, indent=4)\n    print(\"saving...\")\n    writeTextToFile(jsonStr, \"Users/asnaroo/desktop/experiments/firefly/data/cards/test.json\")\n    print(\"saved\")\n    return jsonObj",
                    "language": "py",
                    "iLine": 236,
                    "jLine": 243
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 32,
                    "jChar": 36
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 126,
                    "jChar": 141
                },
                {
                    "targets": [
                        "py_firefly_cards_function_writeTextToFile"
                    ],
                    "iChar": 234,
                    "jChar": 249
                },
                {
                    "targets": [
                        "py_firefly_firefly_function_firefly"
                    ],
                    "iChar": 294,
                    "jChar": 301
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 418,
                    "jChar": 433
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_computeDependencies",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "computeDependencies",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def computeDependencies(cards: List[Card]):\n    #print(\"\\ncomputing dependencies...\")\n    # for each card's code, run through all other cards to see if their names occur\n    for card in cards:\n        if card.name != \"unknown\" :  #and card.kind != \"property\" and card.kind != \"global\" and card.kind != \"class\"\n            for c in cards:\n                iCharStart = -1\n                search = \"\"\n                if c != card and c.name == card.name and c.kind == \"function\":     # cross-project dependency\n                    search = f\"@{c.project}.{c.name}\"\n                    iCharStart = card.code[0].text.find(search)\n                elif c != card and c.name != \"unknown\" and c.name != card.name and c.language == card.language:\n                    search = c.name \n                    if c.kind == \"method\":\n                        if c.name == \"constructor\": search = c.parent.name + \"(\"    # this is language-specific! move this into a Language method\n                        else: search = \".\" + c.name\n                    elif c.kind == \"property\":\n                        search = \".\" + c.name\n                    iCharStart = findWordInString(search, card.code[0].text)\n                if iCharStart >= 0:\n                    if not inComment(iCharStart, card.code[0]):\n                        iCharEnd = iCharStart + len(search)\n                        card.dependsOn.append(Dependency(iCharStart, iCharEnd, c))\n                        c.dependents.append(Dependency(iCharStart, iCharEnd, card))\n            card.dependsOn = sorted(card.dependsOn, key=lambda d: d.iChar)\n            # deal with overlapping dependencies (until we switch to using\n            i = 0\n            while i < len(card.dependsOn)-1:\n                d0 = card.dependsOn[i]\n                d1 = card.dependsOn[i+1]\n                if d0.jChar > d1.iChar and d1.iChar < d0.jChar: # overlaps\n                    d0.combine(d1)\n                    card.dependsOn.remove(d1)\n                else:\n                    i +=1",
                    "language": "py",
                    "iLine": 245,
                    "jLine": 279
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 36,
                    "jChar": 40
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_name",
                        "py_firefly_cards_method_Python_name",
                        "py_firefly_cards_method_Typescript_name"
                    ],
                    "iChar": 208,
                    "jChar": 213
                },
                {
                    "targets": [
                        "py_firefly_cards_function_findWordInString"
                    ],
                    "iChar": 1142,
                    "jChar": 1158
                },
                {
                    "targets": [
                        "py_firefly_cards_function_inComment"
                    ],
                    "iChar": 1249,
                    "jChar": 1258
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Dependency"
                    ],
                    "iChar": 1392,
                    "jChar": 1402
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Dependency_combine"
                    ],
                    "iChar": 1903,
                    "jChar": 1911
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 354,
                    "jChar": 373
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_inComment",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "inComment",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def inComment(iChar: int, code: CodeBlock) -> bool:\n    return searchBackwards(code.text, code.language.comment(), iChar)",
                    "language": "py",
                    "iLine": 281,
                    "jLine": 282
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_CodeBlock"
                    ],
                    "iChar": 32,
                    "jChar": 41
                },
                {
                    "targets": [
                        "py_firefly_cards_function_searchBackwards"
                    ],
                    "iChar": 63,
                    "jChar": 78
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_comment",
                        "py_firefly_cards_method_Python_comment",
                        "py_firefly_cards_method_Typescript_comment"
                    ],
                    "iChar": 103,
                    "jChar": 111
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 1249,
                    "jChar": 1258
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_searchBackwards",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "searchBackwards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def searchBackwards(s: str, target: str, iChar: int) -> bool:\n    # search backwards from iChar for comment, until we hit start of line or text\n    # Edge case: if iChar is outside the bounds of the string\n    if iChar < 0 or iChar > len(s):\n        return False\n    # Start from iChar and go backwards\n    for i in range(iChar, -1, -1):\n        # Check for start of the string\n        if i == 0:\n            return False\n        # Check for start of a line\n        if s[i] == '\\n':\n            return False\n        # Check if the substring ending at index i matches the target\n        if s[i-len(target)+1:i+1] == target:\n            return True\n    return False",
                    "language": "py",
                    "iLine": 284,
                    "jLine": 302
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_inComment"
                    ],
                    "iChar": 63,
                    "jChar": 78
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_computeLevels",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "computeLevels",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def computeLevels(cards: List[Card]):\n    #print(\"computeLevels...\")\n    # now compute the levels of all callable things (not classes or properties)\n    callables = [c for c in cards if c.kind == \"method\" or c.kind == \"function\"]\n    #print(\"\\ncomputing rank from top...\")\n    queue = []\n    for c in callables:\n        count=0\n        for d in c.dependents:\n            for t in d.targets:\n                if t in callables:\n                    count += 1\n        if count == 0:\n            c.rankFromTop = 1\n            queue.append(c)\n    level = 1\n    while len(queue) > 0 and level < 100:\n        rp = f\"level {level}: \"\n        for c in queue: rp += c.fullName() + \" \"\n        #print(rp)\n        nextQueue = []\n        for c in queue:\n            for d in c.dependsOn:\n                for t in d.targets:\n                    if t in callables and t.rankFromTop == 0:\n                        t.rankFromTop = c.rankFromTop + 1\n                        if not t in nextQueue:\n                            nextQueue.append(t)\n        queue = nextQueue\n        level += 1\n    #print(\"\\ncomputing rank from bottom...\")\n    queue = []\n    for c in callables:\n        count=0\n        for d in c.dependsOn:\n            for t in d.targets:\n                if t in callables:\n                    count += 1\n        if count == 0:\n            c.rankFromBottom = 1\n            queue.append(c)\n    level = 1\n    while len(queue) > 0 and level < 100:\n        rp = f\"level {level}: \"\n        for c in queue: rp += c.fullName() + \" \"\n        #print(rp)\n        nextQueue = []\n        for c in queue:\n            for d in c.dependents:\n                for t in d.targets:\n                    if t in callables and t.rankFromBottom == 0:\n                        t.rankFromBottom = c.rankFromBottom + 1\n                        if not t in nextQueue:\n                            nextQueue.append(t)\n        queue = nextQueue\n        level += 1\n    #cards = sorted(cards, key=lambda x: x.level)\n    #maxLevel =0\n    #for card in cards:\n        # if card.level > maxLevel:\n        #     print(\"level\", card.level, \"--------------------\")\n        #     maxLevel = card.level\n        # print(card.fullName())",
                    "language": "py",
                    "iLine": 304,
                    "jLine": 368
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 30,
                    "jChar": 34
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_fullName"
                    ],
                    "iChar": 657,
                    "jChar": 666
                }
            ],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_writeTextToFile",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "writeTextToFile",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def writeTextToFile(text: str, path: str):\n    folder = os.path.dirname(path)\n    if folder != '':\n        os.makedirs(folder, exist_ok=True)\n    with open(path, 'w') as file:\n        file.write(text)",
                    "language": "py",
                    "iLine": 371,
                    "jLine": 376
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_cardsToJsonDict"
                    ],
                    "iChar": 234,
                    "jChar": 249
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_importCardsFromText",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "importCardsFromText",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importCardsFromText(project: str, module: str, language: Language, text: str, parent: Card, minIndent: int)-> List[Card]:\n    cards = language.importCards(project, module, text, minIndent)\n    removeIndents(cards)\n    for c in cards:\n        c.parent = parent\n        (c.kind, c.name) = language.findTypeAndName(c)\n        parentName = (c.parent.name + \".\") if c.parent else \"\"\n        #print(f\"\\n{c.kind}: {parentName}{c.name} ---------------------\")\n        #print(c.code[0].text)\n    return cards",
                    "language": "py",
                    "iLine": 378,
                    "jLine": 387
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Language"
                    ],
                    "iChar": 61,
                    "jChar": 69
                },
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 90,
                    "jChar": 94
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_importCards",
                        "py_firefly_cards_method_Python_importCards",
                        "py_firefly_cards_method_Typescript_importCards",
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 146,
                    "jChar": 158
                },
                {
                    "targets": [
                        "py_firefly_cards_function_removeIndents"
                    ],
                    "iChar": 197,
                    "jChar": 210
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_name",
                        "py_firefly_cards_method_Python_name",
                        "py_firefly_cards_method_Typescript_name"
                    ],
                    "iChar": 282,
                    "jChar": 287
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Language_findTypeAndName",
                        "py_firefly_cards_method_Python_findTypeAndName",
                        "py_firefly_cards_method_Typescript_findTypeAndName"
                    ],
                    "iChar": 299,
                    "jChar": 315
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCards"
                    ],
                    "iChar": 124,
                    "jChar": 143
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_removeIndents",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "removeIndents",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def removeIndents(cards: List[Card]):\n    for card in cards:\n        lines = card.code[0].text.split('\\n')\n        minLeadingSpaces = 10000\n        for line in lines:\n            nLeadingSpaces = len(line) - len(line.lstrip(' '))\n            minLeadingSpaces = min(minLeadingSpaces, nLeadingSpaces)\n        if minLeadingSpaces > 0:\n            lines = [l[minLeadingSpaces:] for l in lines]\n            card.code[0].text = '\\n'.join(lines)",
                    "language": "py",
                    "iLine": 389,
                    "jLine": 398
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 30,
                    "jChar": 34
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 197,
                    "jChar": 210
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_findWordInString",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "findWordInString",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findWordInString(word: str, string: str) -> int:    # not part of another word\n    punc = \" !@#$%^&*()+-={}[]:\\\";\\',.<>/?\\`~\"\n    index = 0\n    while index != -1:\n        index = string.find(word, index)\n        if index == -1:\n            return -1\n        end = index + len(word)\n        if (index == 0 or \\\n            (string[index-1:index] in punc) or word[0] in punc) and \\\n            (string[end:end+1] in punc or word[len(word)-1] in punc):\n            return index\n        else:\n            index = end\n    return -1",
                    "language": "py",
                    "iLine": 400,
                    "jLine": 414
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 1142,
                    "jChar": 1158
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_findString",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "findString",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findString(strings: list, target: str) -> int:\n    try:\n        return strings.index(target)\n    except ValueError:\n        return -1",
                    "language": "py",
                    "iLine": 416,
                    "jLine": 420
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Typescript"
                    ],
                    "iChar": 1312,
                    "jChar": 1322
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Typescript_findTypeAndName"
                    ],
                    "iChar": 226,
                    "jChar": 236
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_findAllFiles",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "findAllFiles",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findAllFiles(directory, extension):\n    \"\"\"\n    Returns a list of files in the given directory (and its subdirectories) that end with the given extension.\n    \"\"\"\n    matched_files = []\n    # Ensure the extension starts with a dot\n    if not extension.startswith(\".\"):\n        extension = \".\" + extension\n    # Recursively walk the directory\n    for dirpath, dirnames, filenames in os.walk(directory):\n        for filename in filenames:\n            if filename.endswith(extension):\n                full_path = os.path.join(dirpath, filename)\n                matched_files.append(full_path)\n    return matched_files",
                    "language": "py",
                    "iLine": 422,
                    "jLine": 439
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 104,
                    "jChar": 116
                }
            ],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_function_newUid",
            "language": "py",
            "module": "cards",
            "kind": "function",
            "name": "newUid",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "# not used, but let's keep it anyways\ndef newUid() -> str:\n    uid = \"@\"\n    cs = \"bcdfghjklmnpqrstvwxyz\"\n    vs = \"aeiou\"\n    for i in range(0, 8):\n        ic = random.randint(0, 20) # inclusive... eurgh\n        iv = random.randint(0, 4)\n        uid += cs[ic] + vs[iv]\n    return uid",
                    "language": "py",
                    "iLine": 441,
                    "jLine": 450
                }
            ],
            "dependsOn": [],
            "dependents": [],
            "children": [],
            "parent": "null"
        },
        {
            "uid": "py_firefly_cards_method_Language_name",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "name",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def name(self) -> str:\n    return \"\"",
                    "language": "py",
                    "iLine": 28,
                    "jLine": 29
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 361,
                    "jChar": 366
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 233,
                    "jChar": 238
                },
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 208,
                    "jChar": 213
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 282,
                    "jChar": 287
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_fullName"
                    ],
                    "iChar": 58,
                    "jChar": 63
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_uid"
                    ],
                    "iChar": 138,
                    "jChar": 143
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Language"
        },
        {
            "uid": "py_firefly_cards_method_Language_shortName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "shortName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def shortName(self) -> str:\n    return \"\"",
                    "language": "py",
                    "iLine": 30,
                    "jLine": 31
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 265,
                    "jChar": 275
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 452,
                    "jChar": 462
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Language"
        },
        {
            "uid": "py_firefly_cards_method_Language_comment",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "comment",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def comment(self) -> str:\n    return \"\"",
                    "language": "py",
                    "iLine": 32,
                    "jLine": 33
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_inComment"
                    ],
                    "iChar": 103,
                    "jChar": 111
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Language"
        },
        {
            "uid": "py_firefly_cards_method_Language_importCards",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "importCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importCards(self, project, module,  text):\n    return []",
                    "language": "py",
                    "iLine": 34,
                    "jLine": 35
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 146,
                    "jChar": 158
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Language"
        },
        {
            "uid": "py_firefly_cards_method_Language_findTypeAndName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "findTypeAndName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findTypeAndName(self, card, minIndent) -> (str, str):\n    return (\"\", \"\")",
                    "language": "py",
                    "iLine": 36,
                    "jLine": 37
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 299,
                    "jChar": 315
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Language"
        },
        {
            "uid": "py_firefly_cards_method_Card_fullName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "fullName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def fullName(self):\n    if self.parent: return self.parent.name + \".\" + self.name\n    else: return self.name",
                    "language": "py",
                    "iLine": 64,
                    "jLine": 66
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_method_Language_name",
                        "py_firefly_cards_method_Python_name",
                        "py_firefly_cards_method_Typescript_name"
                    ],
                    "iChar": 58,
                    "jChar": 63
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_computeLevels"
                    ],
                    "iChar": 657,
                    "jChar": 666
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Card"
        },
        {
            "uid": "py_firefly_cards_method_Card_uid",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "uid",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def uid(self):\n    u = self.language + \"_\" + self.project + \"_\" + self.module + \"_\" + self.kind + \"_\"\n    if self.parent: u += self.parent.name + \"_\"\n    u += self.name\n    return u",
                    "language": "py",
                    "iLine": 67,
                    "jLine": 71
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_method_Language_name",
                        "py_firefly_cards_method_Python_name",
                        "py_firefly_cards_method_Typescript_name"
                    ],
                    "iChar": 138,
                    "jChar": 143
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importAllCards"
                    ],
                    "iChar": 320,
                    "jChar": 324
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 96,
                    "jChar": 100
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Card"
        },
        {
            "uid": "py_firefly_cards_method_Dependency_combine",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "combine",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def combine(self, dep):\n    self.iChar = min(self.iChar, dep.iChar)\n    self.jChar = max(self.jChar, dep.jChar)\n    self.targets += dep.targets",
                    "language": "py",
                    "iLine": 98,
                    "jLine": 101
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 1903,
                    "jChar": 1911
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Dependency"
        },
        {
            "uid": "py_firefly_cards_method_Python_name",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "name",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def name(self): return \"python\"",
                    "language": "py",
                    "iLine": 104,
                    "jLine": 104
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 361,
                    "jChar": 366
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 233,
                    "jChar": 238
                },
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 208,
                    "jChar": 213
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 282,
                    "jChar": 287
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_fullName"
                    ],
                    "iChar": 58,
                    "jChar": 63
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_uid"
                    ],
                    "iChar": 138,
                    "jChar": 143
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Python"
        },
        {
            "uid": "py_firefly_cards_method_Python_shortName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "shortName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def shortName(self): return \"py\"",
                    "language": "py",
                    "iLine": 105,
                    "jLine": 105
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 265,
                    "jChar": 275
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 452,
                    "jChar": 462
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Python"
        },
        {
            "uid": "py_firefly_cards_method_Python_comment",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "comment",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def comment(self): return \"#\"",
                    "language": "py",
                    "iLine": 106,
                    "jLine": 106
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_inComment"
                    ],
                    "iChar": 103,
                    "jChar": 111
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Python"
        },
        {
            "uid": "py_firefly_cards_method_Python_importCards",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "importCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importCards(self, project, module, text, minIndent) -> List[Card]:\n    lines = text.split(\"\\n\")\n    card = None\n    cards = []\n    indent = 0\n    for i in range(0, len(lines)):\n        line = lines[i]\n        prevLine = lines[i-1] if i > 0 else \"\"\n        if not(isBlank(line)):\n            oldIndent = indent\n            indent = nTabsAtStart(line)\n            if indent >= minIndent:\n                if card == None or (oldIndent > minIndent and indent == minIndent) or (indent==minIndent and oldIndent==indent and (not(prevLine.strip().startswith(\"#\")))):\n                    card = Card(project, module, line, self, i+1)\n                    cards.append(card)\n                else:\n                    card.code[0].text += \"\\n\" + line\n                    card.code[0].jLine = i+1\n    return cards",
                    "language": "py",
                    "iLine": 107,
                    "jLine": 125
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 64,
                    "jChar": 68
                },
                {
                    "targets": [
                        "py_firefly_cards_function_isBlank"
                    ],
                    "iChar": 267,
                    "jChar": 274
                },
                {
                    "targets": [
                        "py_firefly_cards_function_nTabsAtStart"
                    ],
                    "iChar": 335,
                    "jChar": 347
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 146,
                    "jChar": 158
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Python"
        },
        {
            "uid": "py_firefly_cards_method_Python_findTypeAndName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "findTypeAndName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findTypeAndName(self, card) -> (str, str):\n    lines = card.code[0].text.split(\"\\n\")\n    for line in lines:\n        l = line.strip()\n        if not l.startswith(\"#\"):\n            if l.startswith(\"def\"):\n                parts = l.split(f\"(\")   # \"def funcName\"  \"params) -> result:\"\n                funcName = parts[0].split(\" \")[1].strip()\n                if parts[1].startswith(\"self\"):\n                    return (\"method\", funcName)\n                else:\n                    return (\"function\", funcName)\n            elif l.startswith(\"class\"):\n                return (\"class\", l.split(\" \")[1].split(\":\")[0].split(\"(\")[0])\n            else: # could be property (self.blah = ) or global (blah = ..)\n                parts = l.split(\"=\")\n                if \"self.\" in parts[0]:\n                    return (\"method\", parts[0].strip())\n                else:\n                    return (\"global\", parts[0].strip())\n    return (\"unknown\", \"unknown\")",
                    "language": "py",
                    "iLine": 126,
                    "jLine": 146
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 299,
                    "jChar": 315
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Python"
        },
        {
            "uid": "py_firefly_cards_method_Typescript_name",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "name",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def name(self): return \"typescript\"",
                    "language": "py",
                    "iLine": 150,
                    "jLine": 150
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 361,
                    "jChar": 366
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 233,
                    "jChar": 238
                },
                {
                    "targets": [
                        "py_firefly_cards_function_computeDependencies"
                    ],
                    "iChar": 208,
                    "jChar": 213
                },
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 282,
                    "jChar": 287
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_fullName"
                    ],
                    "iChar": 58,
                    "jChar": 63
                },
                {
                    "targets": [
                        "py_firefly_cards_method_Card_uid"
                    ],
                    "iChar": 138,
                    "jChar": 143
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Typescript"
        },
        {
            "uid": "py_firefly_cards_method_Typescript_shortName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "shortName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def shortName(self): return \"ts\"",
                    "language": "py",
                    "iLine": 151,
                    "jLine": 151
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 265,
                    "jChar": 275
                },
                {
                    "targets": [
                        "py_firefly_cards_function_card_serialiser"
                    ],
                    "iChar": 452,
                    "jChar": 462
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Typescript"
        },
        {
            "uid": "py_firefly_cards_method_Typescript_comment",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "comment",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def comment(self): return \"//\"",
                    "language": "py",
                    "iLine": 152,
                    "jLine": 152
                }
            ],
            "dependsOn": [],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_inComment"
                    ],
                    "iChar": 103,
                    "jChar": 111
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Typescript"
        },
        {
            "uid": "py_firefly_cards_method_Typescript_importCards",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "importCards",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def importCards(self, project, module, text, minIndent) -> List[Card]:\n    lines = text.split(\"\\n\")\n    cards = []\n    card = None\n    prevLine = \"\"\n    indent = 0\n    for iLine in range(0, len(lines)):\n        line = lines[iLine]\n        if indent >= minIndent: # only consider lines above the min indent level\n            # should we start a new card?\n            # YES if current line has indent = minIndent, and previous line is not a comment\n            if indent == minIndent and not prevLine.strip().startswith(\"//\"):\n                card = Card(project, module, line, self, iLine+1)\n                cards.append(card)\n            else:\n                card.code[0].text += \"\\n\" + line\n                card.code[0].jLine = iLine + 1\n        indent = indent + countBraces(line)\n        prevLine = line\n    return cards",
                    "language": "py",
                    "iLine": 153,
                    "jLine": 172
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_class_Card"
                    ],
                    "iChar": 64,
                    "jChar": 68
                },
                {
                    "targets": [
                        "py_firefly_cards_function_countBraces"
                    ],
                    "iChar": 766,
                    "jChar": 777
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 146,
                    "jChar": 158
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Typescript"
        },
        {
            "uid": "py_firefly_cards_method_Typescript_findTypeAndName",
            "language": "py",
            "module": "cards",
            "kind": "method",
            "name": "findTypeAndName",
            "purpose": "",
            "examples": "",
            "inputs": "",
            "outputs": "",
            "code": [
                {
                    "text": "def findTypeAndName(self, card) -> (str, str):\n    lines = card.code[0].text.split(\"\\n\")\n    for line in lines:\n        l = line.strip()\n        if not l.startswith(\"//\"):\n            w = l.split(\" \")\n            classIndex = findString(w, \"class\")\n            if classIndex >= 0:\n                return (\"class\", w[classIndex+1])\n            funcIndex = findString(w, \"function\")\n            if funcIndex >= 0:\n                return (\"function\", w[funcIndex+1].split(\"(\")[0].split(\"<\")[0])\n            elif card.parent != None:\n                if \"(\" in w[0]:\n                    return (\"method\", w[0].split(\"(\")[0])\n                else:\n                    return (\"property\", w[0].split(\":\")[0])\n            elif w[0]==\"var\" or w[0]==\"let\" or w[0]==\"const\":\n                return (\"global\", w[1].split(\":\")[0])\n    return (\"unknown\", \"unknown\")",
                    "language": "py",
                    "iLine": 173,
                    "jLine": 192
                }
            ],
            "dependsOn": [
                {
                    "targets": [
                        "py_firefly_cards_function_findString"
                    ],
                    "iChar": 226,
                    "jChar": 236
                }
            ],
            "dependents": [
                {
                    "targets": [
                        "py_firefly_cards_function_importCardsFromText"
                    ],
                    "iChar": 299,
                    "jChar": 315
                }
            ],
            "children": [],
            "parent": "py_firefly_cards_class_Typescript"
        }
    ]
}